{
  "abi": [
    {
      "type": "constructor",
      "inputs": [
        {
          "name": "_antToken",
          "type": "address",
          "internalType": "address"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "CANDIDATES_PER_POOL",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint8",
          "internalType": "uint8"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "MAX_MERKLE_DEPTH",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "uint8",
          "internalType": "uint8"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "antToken",
      "inputs": [],
      "outputs": [
        {
          "name": "",
          "type": "address",
          "internalType": "contract IERC20"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "estimateMerkleTreeCost",
      "inputs": [
        {
          "name": "depth",
          "type": "uint8",
          "internalType": "uint8"
        },
        {
          "name": "poolCommitments",
          "type": "tuple[]",
          "internalType": "struct IMerklePaymentVault.PoolCommitment[]",
          "components": [
            {
              "name": "poolHash",
              "type": "bytes32",
              "internalType": "bytes32"
            },
            {
              "name": "candidates",
              "type": "tuple[16]",
              "internalType": "struct IMerklePaymentVault.CandidateNode[16]",
              "components": [
                {
                  "name": "rewardsAddress",
                  "type": "address",
                  "internalType": "address"
                },
                {
                  "name": "metrics",
                  "type": "tuple",
                  "internalType": "struct IMerklePaymentVault.QuotingMetrics",
                  "components": [
                    {
                      "name": "dataType",
                      "type": "uint8",
                      "internalType": "enum IMerklePaymentVault.DataType"
                    },
                    {
                      "name": "closeRecordsStored",
                      "type": "uint256",
                      "internalType": "uint256"
                    },
                    {
                      "name": "recordsPerType",
                      "type": "tuple[]",
                      "internalType": "struct IMerklePaymentVault.Record[]",
                      "components": [
                        {
                          "name": "dataType",
                          "type": "uint8",
                          "internalType": "enum IMerklePaymentVault.DataType"
                        },
                        {
                          "name": "records",
                          "type": "uint256",
                          "internalType": "uint256"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "merklePaymentTimestamp",
          "type": "uint64",
          "internalType": "uint64"
        }
      ],
      "outputs": [
        {
          "name": "totalAmount",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "getPaymentInfo",
      "inputs": [
        {
          "name": "winnerPoolHash",
          "type": "bytes32",
          "internalType": "bytes32"
        }
      ],
      "outputs": [
        {
          "name": "info",
          "type": "tuple",
          "internalType": "struct IMerklePaymentVault.PaymentInfo",
          "components": [
            {
              "name": "depth",
              "type": "uint8",
              "internalType": "uint8"
            },
            {
              "name": "merklePaymentTimestamp",
              "type": "uint64",
              "internalType": "uint64"
            },
            {
              "name": "paidNodeAddresses",
              "type": "tuple[]",
              "internalType": "struct IMerklePaymentVault.PaidNode[]",
              "components": [
                {
                  "name": "rewardsAddress",
                  "type": "address",
                  "internalType": "address"
                },
                {
                  "name": "poolIndex",
                  "type": "uint8",
                  "internalType": "uint8"
                }
              ]
            }
          ]
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "function",
      "name": "payForMerkleTree",
      "inputs": [
        {
          "name": "depth",
          "type": "uint8",
          "internalType": "uint8"
        },
        {
          "name": "poolCommitments",
          "type": "tuple[]",
          "internalType": "struct IMerklePaymentVault.PoolCommitment[]",
          "components": [
            {
              "name": "poolHash",
              "type": "bytes32",
              "internalType": "bytes32"
            },
            {
              "name": "candidates",
              "type": "tuple[16]",
              "internalType": "struct IMerklePaymentVault.CandidateNode[16]",
              "components": [
                {
                  "name": "rewardsAddress",
                  "type": "address",
                  "internalType": "address"
                },
                {
                  "name": "metrics",
                  "type": "tuple",
                  "internalType": "struct IMerklePaymentVault.QuotingMetrics",
                  "components": [
                    {
                      "name": "dataType",
                      "type": "uint8",
                      "internalType": "enum IMerklePaymentVault.DataType"
                    },
                    {
                      "name": "closeRecordsStored",
                      "type": "uint256",
                      "internalType": "uint256"
                    },
                    {
                      "name": "recordsPerType",
                      "type": "tuple[]",
                      "internalType": "struct IMerklePaymentVault.Record[]",
                      "components": [
                        {
                          "name": "dataType",
                          "type": "uint8",
                          "internalType": "enum IMerklePaymentVault.DataType"
                        },
                        {
                          "name": "records",
                          "type": "uint256",
                          "internalType": "uint256"
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "name": "merklePaymentTimestamp",
          "type": "uint64",
          "internalType": "uint64"
        }
      ],
      "outputs": [
        {
          "name": "winnerPoolHash",
          "type": "bytes32",
          "internalType": "bytes32"
        },
        {
          "name": "totalAmount",
          "type": "uint256",
          "internalType": "uint256"
        }
      ],
      "stateMutability": "nonpayable"
    },
    {
      "type": "function",
      "name": "payments",
      "inputs": [
        {
          "name": "",
          "type": "bytes32",
          "internalType": "bytes32"
        }
      ],
      "outputs": [
        {
          "name": "depth",
          "type": "uint8",
          "internalType": "uint8"
        },
        {
          "name": "merklePaymentTimestamp",
          "type": "uint64",
          "internalType": "uint64"
        }
      ],
      "stateMutability": "view"
    },
    {
      "type": "event",
      "name": "DataPaymentMade",
      "inputs": [
        {
          "name": "root",
          "type": "bytes32",
          "indexed": true,
          "internalType": "bytes32"
        },
        {
          "name": "treeDepth",
          "type": "uint256",
          "indexed": true,
          "internalType": "uint256"
        },
        {
          "name": "amount",
          "type": "uint256",
          "indexed": true,
          "internalType": "uint256"
        }
      ],
      "anonymous": false
    },
    {
      "type": "event",
      "name": "MerklePaymentMade",
      "inputs": [
        {
          "name": "winnerPoolHash",
          "type": "bytes32",
          "indexed": true,
          "internalType": "bytes32"
        },
        {
          "name": "depth",
          "type": "uint8",
          "indexed": false,
          "internalType": "uint8"
        },
        {
          "name": "totalAmount",
          "type": "uint256",
          "indexed": false,
          "internalType": "uint256"
        },
        {
          "name": "merklePaymentTimestamp",
          "type": "uint64",
          "indexed": false,
          "internalType": "uint64"
        }
      ],
      "anonymous": false
    },
    {
      "type": "error",
      "name": "AntTokenNull",
      "inputs": []
    },
    {
      "type": "error",
      "name": "BatchLimitExceeded",
      "inputs": []
    },
    {
      "type": "error",
      "name": "DepthTooLarge",
      "inputs": [
        {
          "name": "depth",
          "type": "uint8",
          "internalType": "uint8"
        },
        {
          "name": "max",
          "type": "uint8",
          "internalType": "uint8"
        }
      ]
    },
    {
      "type": "error",
      "name": "GracePeriodNotOver",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidAmount",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidChainlinkPrice",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidInputLength",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidQuoteHash",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidRecipientsCount",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidRoot",
      "inputs": []
    },
    {
      "type": "error",
      "name": "InvalidTreeDepth",
      "inputs": []
    },
    {
      "type": "error",
      "name": "PaymentAlreadyExists",
      "inputs": [
        {
          "name": "poolHash",
          "type": "bytes32",
          "internalType": "bytes32"
        }
      ]
    },
    {
      "type": "error",
      "name": "PaymentNotFound",
      "inputs": [
        {
          "name": "poolHash",
          "type": "bytes32",
          "internalType": "bytes32"
        }
      ]
    },
    {
      "type": "error",
      "name": "PriceFeedNull",
      "inputs": []
    },
    {
      "type": "error",
      "name": "RootAlreadyPaid",
      "inputs": []
    },
    {
      "type": "error",
      "name": "SequencerDown",
      "inputs": []
    },
    {
      "type": "error",
      "name": "WrongCandidateCount",
      "inputs": [
        {
          "name": "poolIdx",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "expected",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "got",
          "type": "uint256",
          "internalType": "uint256"
        }
      ]
    },
    {
      "type": "error",
      "name": "WrongPoolCount",
      "inputs": [
        {
          "name": "expected",
          "type": "uint256",
          "internalType": "uint256"
        },
        {
          "name": "got",
          "type": "uint256",
          "internalType": "uint256"
        }
      ]
    }
  ],
  "bytecode": {
    "object": "0x60a0346100be57601f610bce38819003918201601f19168301916001600160401b038311848410176100c2578084926020946040528339810103126100be57516001600160a01b038116908190036100be57801561007957608052604051610af790816100d78239608051818181610470015261070b0152f35b60405162461bcd60e51b815260206004820152601560248201527f496e76616c696420746f6b656e206164647265737300000000000000000000006044820152606490fd5b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe6080806040526004361015610012575f80fd5b5f3560e01c908163043b758714610791575080630716326d14610755578063137978c31461073a5780634ec42e8e146106f6578063937c07b7146102a65780639e9dfde1146101e35763a75e9b1914610069575f80fd5b346101df5760203660031901126101df5760043560606040805161008c816108d0565b5f81525f60208201520152805f525f60205260405f2090604051906100b0826108d0565b600183549360ff851684526001600160401b03602085019560081c168552019081546100db8161090c565b926100e960405194856108eb565b81845260208401905f5260205f205f915b8383106101a957505050506040830191825260ff83511615610197576001600160401b038484846040519384936020855260ff6080860194511660208601525116604084015251906060808401528151809152602060a084019201905f5b818110610166575050500390f35b825180516001600160a01b0316855260209081015160ff168186015286955060409094019390920191600101610158565b63272f9fc160e01b5f5260045260245ffd5b6001602081926040516101bb816108b5565b60ff8654858060a01b038116835260a01c16838201528152019201920191906100fa565b5f80fd5b346101df576101f1366107aa565b60ff841693600c851161028e5761020790610923565b80830361027757505f5b82811061025557602061024d8661024861024361023a89896102348a338361093e565b91610832565b8581019061084c565b6109ab565b610862565b604051908152f35b806102706102666001938688610832565b602081019061084c565b5001610211565b90506347fe11b560e11b5f5260045260245260445ffd5b8463164b5f0360e11b5f52600452600c60245260445ffd5b346101df576102b4366107aa565b92919060ff831692600c84116106de576102cd90610923565b8082036106c957505f5b8181106106b15750906102ef9161023485338361093e565b90813591825f525f60205260ff60405f20541661069e57602081019261031c83610248610243878661084c565b926103268161090c565b9161033460405193846108eb565b818352601f196103438361090c565b013660208501376040519461020061035b81886108eb565b36873760405160208101904482528360408201526001600160401b0360c01b8a60c01b166060820152604881526103936068826108eb565b519020975f955f995b85881080610694575b1561042257604051602081019182528b6040820152604081526103c96060826108eb565b51902099600f8b16896103dc828261099a565b51156103f4575b50506103ee90610ab3565b9961039c565b9881600161040961041a946103ee969d61099a565b52610414828b610889565b52610ab3565b9790896103e3565b5085908986890361064f57855f525f60205260405f209081548868ffffffffffffffff008760081b169168ffffffffffffffffff191617178255871561063b576001909101929187860491907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316905f5b8a81106104f2575060408989817f89f0ad3859fec321e325bcc553fe234bcad374789a86f7ba932067f3f05affec60608f6001600160401b038e88519283528660208401521687820152a282519182526020820152f35b60ff6104fe8288610889565b5116906105148261050f878661084c565b61089d565b356001600160a01b038116908190036101df576040516323b872dd60e01b81523360048201528160248201528760448201526020816064815f8a5af18015610630576105fa575b5060405190610569826108b5565b815260208101928352885492680100000000000000008410156105e65760018401808b558410156105d2576001938a5f5260205f200191848060a01b0390511682549160ff60a01b905160a01b16916affffffffffffffffffffff60a81b16171790550161049b565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b6020813d8211610628575b81610612602093836108eb565b810103126101df5751801515811461055b575f80fd5b3d9150610605565b6040513d5f823e3d90fd5b634e487b7160e01b5f52601260045260245ffd5b60405162461bcd60e51b815260206004820152601f60248201527f4661696c656420746f2073656c65637420656e6f7567682077696e6e657273006044820152606490fd5b5060648b106103a5565b82639d8c19ed60e01b5f5260045260245ffd5b806106c26102666001938587610832565b50016102d7565b6347fe11b560e11b5f5260045260245260445ffd5b8363164b5f0360e11b5f52600452600c60245260445ffd5b346101df575f3660031901126101df576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101df575f3660031901126101df57602060405160108152f35b346101df5760203660031901126101df576004355f525f6020526040805f20546001600160401b0382519160ff8116835260081c166020820152f35b346101df575f3660031901126101df5780600c60209252f35b60606003198201126101df5760043560ff811681036101df57916024356001600160401b0381116101df57826023820112156101df578060040135926001600160401b0384116101df5760248460051b830101116101df5760240191906044356001600160401b03811681036101df5790565b903590603e19813603018212156101df570190565b908210156105d2576108499160051b81019061081d565b90565b9035906101fe19813603018212156101df570190565b8181029291811591840414171561087557565b634e487b7160e01b5f52601160045260245ffd5b80518210156105d25760209160051b010190565b60108210156105d2576108499160051b81019061081d565b604081019081106001600160401b038211176105e657604052565b606081019081106001600160401b038211176105e657604052565b90601f801991011681019081106001600160401b038211176105e657604052565b6001600160401b0381116105e65760051b60200190565b60ff600191160160ff811161087557607f600191821c161b90565b916040519060208201924484524260408401526bffffffffffffffffffffffff199060601b1660608301526001600160401b0360c01b9060c01b166074820152605c815261098d607c826108eb565b519020811561063b570690565b9060108110156105d25760051b0190565b604051906102006109bc81846108eb565b3683375f5b60108110610a8257505060015b601081106109f1575061010060e082015191015181018091116108755760011c90565b91906109fd838261099a565b5191835b8015801580610a64575b15610a4b575f1982019180831161087557610a31610a29848761099a565b51918661099a565b5215610a0157634e487b7160e01b5f52601160045260245ffd5b5092610a5d600193949592958561099a565b52016109ce565b505f19820182811161087557610a7b86918661099a565b5111610a0b565b610a8c818361089d565b6020605e198236030191013512156101df57806001610aac81938661099a565b52016109c1565b5f198114610875576001019056fea26469706673582212205bc7bc1f6e8c8d5cfc9dfb28ef57bcff92af40d0852aba7fd77985dcda99b06764736f6c634300081c0033",
    "sourceMap": "385:9281:1:-:0;;;;;;;;;;;;;-1:-1:-1;;385:9281:1;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;975:23;;385:9281;;1034:28;;385:9281;;;;;;;;1034:28;385:9281;;;;;;;;;;;;;;-1:-1:-1;;;385:9281:1;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;385:9281:1;;;;;;-1:-1:-1;385:9281:1;;;;;-1:-1:-1;385:9281:1",
    "linkReferences": {}
  },
  "deployedBytecode": {
    "object": "0x6080806040526004361015610012575f80fd5b5f3560e01c908163043b758714610791575080630716326d14610755578063137978c31461073a5780634ec42e8e146106f6578063937c07b7146102a65780639e9dfde1146101e35763a75e9b1914610069575f80fd5b346101df5760203660031901126101df5760043560606040805161008c816108d0565b5f81525f60208201520152805f525f60205260405f2090604051906100b0826108d0565b600183549360ff851684526001600160401b03602085019560081c168552019081546100db8161090c565b926100e960405194856108eb565b81845260208401905f5260205f205f915b8383106101a957505050506040830191825260ff83511615610197576001600160401b038484846040519384936020855260ff6080860194511660208601525116604084015251906060808401528151809152602060a084019201905f5b818110610166575050500390f35b825180516001600160a01b0316855260209081015160ff168186015286955060409094019390920191600101610158565b63272f9fc160e01b5f5260045260245ffd5b6001602081926040516101bb816108b5565b60ff8654858060a01b038116835260a01c16838201528152019201920191906100fa565b5f80fd5b346101df576101f1366107aa565b60ff841693600c851161028e5761020790610923565b80830361027757505f5b82811061025557602061024d8661024861024361023a89896102348a338361093e565b91610832565b8581019061084c565b6109ab565b610862565b604051908152f35b806102706102666001938688610832565b602081019061084c565b5001610211565b90506347fe11b560e11b5f5260045260245260445ffd5b8463164b5f0360e11b5f52600452600c60245260445ffd5b346101df576102b4366107aa565b92919060ff831692600c84116106de576102cd90610923565b8082036106c957505f5b8181106106b15750906102ef9161023485338361093e565b90813591825f525f60205260ff60405f20541661069e57602081019261031c83610248610243878661084c565b926103268161090c565b9161033460405193846108eb565b818352601f196103438361090c565b013660208501376040519461020061035b81886108eb565b36873760405160208101904482528360408201526001600160401b0360c01b8a60c01b166060820152604881526103936068826108eb565b519020975f955f995b85881080610694575b1561042257604051602081019182528b6040820152604081526103c96060826108eb565b51902099600f8b16896103dc828261099a565b51156103f4575b50506103ee90610ab3565b9961039c565b9881600161040961041a946103ee969d61099a565b52610414828b610889565b52610ab3565b9790896103e3565b5085908986890361064f57855f525f60205260405f209081548868ffffffffffffffff008760081b169168ffffffffffffffffff191617178255871561063b576001909101929187860491907f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316905f5b8a81106104f2575060408989817f89f0ad3859fec321e325bcc553fe234bcad374789a86f7ba932067f3f05affec60608f6001600160401b038e88519283528660208401521687820152a282519182526020820152f35b60ff6104fe8288610889565b5116906105148261050f878661084c565b61089d565b356001600160a01b038116908190036101df576040516323b872dd60e01b81523360048201528160248201528760448201526020816064815f8a5af18015610630576105fa575b5060405190610569826108b5565b815260208101928352885492680100000000000000008410156105e65760018401808b558410156105d2576001938a5f5260205f200191848060a01b0390511682549160ff60a01b905160a01b16916affffffffffffffffffffff60a81b16171790550161049b565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b6020813d8211610628575b81610612602093836108eb565b810103126101df5751801515811461055b575f80fd5b3d9150610605565b6040513d5f823e3d90fd5b634e487b7160e01b5f52601260045260245ffd5b60405162461bcd60e51b815260206004820152601f60248201527f4661696c656420746f2073656c65637420656e6f7567682077696e6e657273006044820152606490fd5b5060648b106103a5565b82639d8c19ed60e01b5f5260045260245ffd5b806106c26102666001938587610832565b50016102d7565b6347fe11b560e11b5f5260045260245260445ffd5b8363164b5f0360e11b5f52600452600c60245260445ffd5b346101df575f3660031901126101df576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101df575f3660031901126101df57602060405160108152f35b346101df5760203660031901126101df576004355f525f6020526040805f20546001600160401b0382519160ff8116835260081c166020820152f35b346101df575f3660031901126101df5780600c60209252f35b60606003198201126101df5760043560ff811681036101df57916024356001600160401b0381116101df57826023820112156101df578060040135926001600160401b0384116101df5760248460051b830101116101df5760240191906044356001600160401b03811681036101df5790565b903590603e19813603018212156101df570190565b908210156105d2576108499160051b81019061081d565b90565b9035906101fe19813603018212156101df570190565b8181029291811591840414171561087557565b634e487b7160e01b5f52601160045260245ffd5b80518210156105d25760209160051b010190565b60108210156105d2576108499160051b81019061081d565b604081019081106001600160401b038211176105e657604052565b606081019081106001600160401b038211176105e657604052565b90601f801991011681019081106001600160401b038211176105e657604052565b6001600160401b0381116105e65760051b60200190565b60ff600191160160ff811161087557607f600191821c161b90565b916040519060208201924484524260408401526bffffffffffffffffffffffff199060601b1660608301526001600160401b0360c01b9060c01b166074820152605c815261098d607c826108eb565b519020811561063b570690565b9060108110156105d25760051b0190565b604051906102006109bc81846108eb565b3683375f5b60108110610a8257505060015b601081106109f1575061010060e082015191015181018091116108755760011c90565b91906109fd838261099a565b5191835b8015801580610a64575b15610a4b575f1982019180831161087557610a31610a29848761099a565b51918661099a565b5215610a0157634e487b7160e01b5f52601160045260245ffd5b5092610a5d600193949592958561099a565b52016109ce565b505f19820182811161087557610a7b86918661099a565b5111610a0b565b610a8c818361089d565b6020605e198236030191013512156101df57806001610aac81938661099a565b52016109c1565b5f198114610875576001019056fea26469706673582212205bc7bc1f6e8c8d5cfc9dfb28ef57bcff92af40d0852aba7fd77985dcda99b06764736f6c634300081c0033",
    "sourceMap": "385:9281:1:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5412:29;;;385:9281;;;;;;;;;-1:-1:-1;;385:9281:1;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6445:15;6441:84;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;-1:-1:-1;385:9281:1;;;;;;;;;;;;;6441:84;6483:31;;;385:9281;6483:31;385:9281;;;;6483:31;385:9281;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;4913:24;763:2;4913:24;;4909:100;;5091:27;;;:::i;:::-;5132:39;;;5128:130;;5346:13;385:9281;5361:26;;;;;;5412:29;6048:19;5761:10;5980:44;6002:21;5843:30;5761:10;;5719:77;5761:10;;5719:77;;:::i;:::-;5843:30;;:::i;:::-;6002:21;;;;;:::i;:::-;5980:44;:::i;:::-;6048:19;:::i;:::-;385:9281;;;;;;5389:3;5412:18;:29;:18;385:9281;5412:18;;;;:::i;:::-;:29;;;;;:::i;:::-;;385:9281;5346:13;;5128:130;2010:53;;;;;385:9281;5194:53;385:9281;;;;;;5194:53;4909:100;1776:38;;;;385:9281;4960:38;385:9281;;763:2;385:9281;;;;4960:38;385:9281;;;;;;;:::i;:::-;;;;;;;1729:24;763:2;1729:24;;1725:100;;1907:27;;;:::i;:::-;1948:39;;;1944:130;;2162:13;385:9281;2177:26;;;;;;2544:10;;2626:30;2544:10;2502:77;2544:10;;2502:77;;:::i;2626:30::-;385:9281;;;;;;;;2228:29;385:9281;;;;;;;2770:109;;2228:29;3007:21;;;3053:19;3007:21;2985:44;3007:21;;;;:::i;3053:19::-;385:9281;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;;385:9281:1;;;:::i;:::-;;;2228:29;385:9281;;;;;;;;;;;:::i;:::-;;;;;;2228:29;9019:55;;9036:16;;385:9281;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;9019:55;;;;;;;:::i;:::-;385:9281;9009:66;;9086:25;385:9281;9121:20;385:9281;9192:364;;9199:21;;;:39;;;9192:364;9199:39;;;385:9281;;2228:29;9271:32;;385:9281;;;;;;;;;9271:32;;;385:9281;9271:32;;:::i;:::-;385:9281;9261:43;;385:9281;;;;9375:13;;;;;:::i;:::-;385:9281;;9370:152;;9192:364;9535:10;;;;;:::i;:::-;9192:364;;;9370:152;9408:20;;385:9281;9408:20;9492:15;9408:20;9535:10;9408:20;;;:::i;:::-;385:9281;9446:28;;;;:::i;:::-;385:9281;9492:15;:::i;:::-;9370:152;;;;;9199:39;;;;;;;9574:22;385:9281;;;;;;2228:29;385:9281;;;;;;;;;;;;;;;;;;;;;;;;;;3890:22;;;;385:9281;;;;;-1:-1:-1;3775:8:1;-1:-1:-1;;;;;385:9281:1;;;3573:9;;;;;;385:9281;;;;;4007:77;385:9281;;-1:-1:-1;;;;;385:9281:1;;;;;;;2228:29;385:9281;;;;;;;;4007:77;385:9281;;;;;2228:29;385:9281;;;;3584:3;385:9281;3619:16;;;;:::i;:::-;385:9281;;3674:21;:30;:21;;;;;:::i;:::-;:30;:::i;:::-;385:9281;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;3775:64;;2544:10;385:9281;3775:64;;385:9281;;;;;;;;;;;2228:29;3775:64;;;385:9281;3775:64;;;;;;;;;3584:3;385:9281;;;;;;;:::i;:::-;;;2228:29;3918:62;;385:9281;;;;;;;;;;;;;;;;;;;;;;;;;;;;2228:29;385:9281;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3558:13;;385:9281;;;;;;;;;;;;;;;;;;;;;;;;3775:64;2228:29;3775:64;;;;;;;;;2228:29;3775:64;;;:::i;:::-;;;385:9281;;;;;;;;;;3775:64;385:9281;;;;3775:64;;;-1:-1:-1;3775:64:1;;;385:9281;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;385:9281:1;;2228:29;385:9281;;;;;;;;;;;;;;;;;9199:39;9224:14;9235:3;9224:14;;9199:39;;2770:109;2832:36;;;;385:9281;2832:36;385:9281;;;;2832:36;2205:3;2228:18;:29;:18;385:9281;2228:18;;;;:::i;:29::-;;385:9281;2162:13;;1944:130;2010:53;;;385:9281;2010:53;385:9281;;;;;;2010:53;1725:100;1776:38;;;;385:9281;1776:38;385:9281;;763:2;385:9281;;;;1776:38;385:9281;;;;;;-1:-1:-1;;385:9281:1;;;;;;509:41;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;-1:-1:-1;;385:9281:1;;;;;;;871:2;385:9281;;;;;;;;;-1:-1:-1;;385:9281:1;;;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;385:9281:1;;;;;763:2;385:9281;;;;;;-1:-1:-1;;385:9281:1;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;:::o;:::-;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;:::o;:::-;-1:-1:-1;;;;;385:9281:1;;;;;;;;;:::o;6678:188::-;385:9281;6790:1;6678:188;385:9281;;;;;;;;6790:1;385:9281;;;;;6678:188;:::o;6937:267::-;;385:9281;;7084:70;;;;7101:16;;385:9281;;7119:15;385:9281;;;;;;;;;;;;;;-1:-1:-1;;;;;385:9281:1;;;;;;;;;;7084:70;;;;;;;:::i;:::-;385:9281;7074:81;;385:9281;;;;;6937:267;:::o;385:9281::-;;;;;;;;;;;;:::o;7283:476::-;385:9281;;;;;;;;:::i;:::-;;;;-1:-1:-1;7490:6:1;385:9281;7490:6;;;;8429:13;;385:9281;8444:6;385:9281;8444:6;;;;385:9281;;;;;;;;;;;;;;;;;;7283:476;:::o;8452:3::-;8485:9;;;;;;:::i;:::-;385:9281;8508:13;;8535:116;8542:5;;;;:28;;;8535:116;8542:28;;;-1:-1:-1;;385:9281:1;;;;;;;;8590:25;8602:13;;;;:::i;:::-;385:9281;8590:25;;;:::i;:::-;385:9281;;8535:116;385:9281;;;;-1:-1:-1;385:9281:1;;;;;-1:-1:-1;385:9281:1;8542:28;;;8664:15;385:9281;8542:28;;;;;8664:15;;:::i;:::-;385:9281;;8429:13;;8542:28;-1:-1:-1;;;385:9281:1;;;;;;;8551:13;;;;;:::i;:::-;385:9281;8551:19;8542:28;;7498:3;7539:13;;;;:::i;:::-;:21;385:9281;;;;;;7539:21;;385:9281;;;;;7517:44;385:9281;7517:44;;;;;:::i;:::-;385:9281;;7475:13;;385:9281;-1:-1:-1;;385:9281:1;;;;;;;:::o",
    "linkReferences": {},
    "immutableReferences": {
      "255": [
        {
          "start": 1136,
          "length": 32
        },
        {
          "start": 1803,
          "length": 32
        }
      ]
    }
  },
  "methodIdentifiers": {
    "CANDIDATES_PER_POOL()": "137978c3",
    "MAX_MERKLE_DEPTH()": "043b7587",
    "antToken()": "4ec42e8e",
    "estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)": "9e9dfde1",
    "getPaymentInfo(bytes32)": "a75e9b19",
    "payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)": "937c07b7",
    "payments(bytes32)": "0716326d"
  },
  "rawMetadata": "{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_antToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"AntTokenNull\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"BatchLimitExceeded\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"max\",\"type\":\"uint8\"}],\"name\":\"DepthTooLarge\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"GracePeriodNotOver\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidAmount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidChainlinkPrice\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidInputLength\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidQuoteHash\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidRecipientsCount\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidRoot\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InvalidTreeDepth\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"}],\"name\":\"PaymentAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"}],\"name\":\"PaymentNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PriceFeedNull\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"RootAlreadyPaid\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SequencerDown\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolIdx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"got\",\"type\":\"uint256\"}],\"name\":\"WrongCandidateCount\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"got\",\"type\":\"uint256\"}],\"name\":\"WrongPoolCount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"root\",\"type\":\"bytes32\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"treeDepth\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"DataPaymentMade\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"MerklePaymentMade\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CANDIDATES_PER_POOL\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_MERKLE_DEPTH\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"antToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"enum IMerklePaymentVault.DataType\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"closeRecordsStored\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"enum IMerklePaymentVault.DataType\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"records\",\"type\":\"uint256\"}],\"internalType\":\"struct IMerklePaymentVault.Record[]\",\"name\":\"recordsPerType\",\"type\":\"tuple[]\"}],\"internalType\":\"struct IMerklePaymentVault.QuotingMetrics\",\"name\":\"metrics\",\"type\":\"tuple\"}],\"internalType\":\"struct IMerklePaymentVault.CandidateNode[16]\",\"name\":\"candidates\",\"type\":\"tuple[16]\"}],\"internalType\":\"struct IMerklePaymentVault.PoolCommitment[]\",\"name\":\"poolCommitments\",\"type\":\"tuple[]\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"estimateMerkleTreeCost\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"}],\"name\":\"getPaymentInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"poolIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct IMerklePaymentVault.PaidNode[]\",\"name\":\"paidNodeAddresses\",\"type\":\"tuple[]\"}],\"internalType\":\"struct IMerklePaymentVault.PaymentInfo\",\"name\":\"info\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"enum IMerklePaymentVault.DataType\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"closeRecordsStored\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"enum IMerklePaymentVault.DataType\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"records\",\"type\":\"uint256\"}],\"internalType\":\"struct IMerklePaymentVault.Record[]\",\"name\":\"recordsPerType\",\"type\":\"tuple[]\"}],\"internalType\":\"struct IMerklePaymentVault.QuotingMetrics\",\"name\":\"metrics\",\"type\":\"tuple\"}],\"internalType\":\"struct IMerklePaymentVault.CandidateNode[16]\",\"name\":\"candidates\",\"type\":\"tuple[16]\"}],\"internalType\":\"struct IMerklePaymentVault.PoolCommitment[]\",\"name\":\"poolCommitments\",\"type\":\"tuple[]\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"payForMerkleTree\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"payments\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"DataPaymentMade(bytes32,uint256,uint256)\":{\"params\":{\"amount\":\"Payment amount\",\"root\":\"Merkle root\",\"treeDepth\":\"Tree depth\"}},\"MerklePaymentMade(bytes32,uint8,uint256,uint64)\":{\"params\":{\"depth\":\"Tree depth\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"totalAmount\":\"Total tokens paid to winners\",\"winnerPoolHash\":\"Hash of the selected winner pool\"}}},\"kind\":\"dev\",\"methods\":{\"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)\":{\"params\":{\"depth\":\"Tree depth (determines number of nodes paid)\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"poolCommitments\":\"Array of pool commitments (2^ceil(depth/2))\"},\"returns\":{\"totalAmount\":\"Estimated total tokens that would be paid\"}},\"getPaymentInfo(bytes32)\":{\"params\":{\"winnerPoolHash\":\"Hash returned from payForMerkleTree\"},\"returns\":{\"info\":\"Payment information stored on-chain\"}},\"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)\":{\"params\":{\"depth\":\"Tree depth (determines number of nodes paid)\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"poolCommitments\":\"Array of pool commitments (2^ceil(depth/2))\"},\"returns\":{\"totalAmount\":\"Total tokens paid to winners\",\"winnerPoolHash\":\"Hash of selected winner pool\"}}},\"version\":1},\"userdoc\":{\"events\":{\"DataPaymentMade(bytes32,uint256,uint256)\":{\"notice\":\"Emitted when a data payment is made (legacy event)\"},\"MerklePaymentMade(bytes32,uint8,uint256,uint64)\":{\"notice\":\"Emitted when a Merkle batch payment is made\"}},\"kind\":\"user\",\"methods\":{\"CANDIDATES_PER_POOL()\":{\"notice\":\"Number of candidates per pool (fixed)\"},\"MAX_MERKLE_DEPTH()\":{\"notice\":\"Maximum supported Merkle tree depth\"},\"antToken()\":{\"notice\":\"ANT token contract\"},\"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)\":{\"notice\":\"Estimate the cost of a Merkle tree payment without executing it This is a view function (0 gas) that runs the same pricing logic as payForMerkleTree but returns only the estimated cost without executing payment.\"},\"getPaymentInfo(bytes32)\":{\"notice\":\"Get payment info by winner pool hash\"},\"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)\":{\"notice\":\"Pay for Merkle tree batch\"},\"payments(bytes32)\":{\"notice\":\"Payment info indexed by winner pool hash\"}},\"notice\":\"Merkle Batch Payment Vault Handles batch payments for Merkle tree storage where multiple data chunks are paid for in a single transaction. Uses a fair median pricing mechanism based on candidate node metrics.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/MerklePaymentVault.sol\":\"MerklePaymentVault\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/openzeppelin-contracts/lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/IMerklePaymentVault.sol\":{\"keccak256\":\"0x024a743d548e8c70cac35582a882de61bdcc37ba286512aa4c6b21c56198a875\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://bfc083023aca49d207386a601f2a78100c2702490be855956bbe4fef02f66f80\",\"dweb:/ipfs/QmTm3QZ11TvwKopPeSPAZhKpHigvsoy95Yb7tJ3JMD1fyd\"]},\"contracts/MerklePaymentVault.sol\":{\"keccak256\":\"0x908728d3eb99ad8882ce0f8bcae2a88b67326df920d921e0f08e1c179d91fc0a\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://49dadaf11940df8f38b8e133b3a1589b5bd72320db327f84ebda7cd421b9a79a\",\"dweb:/ipfs/QmV6akj91Np17TGc5itWaTieG32CPUx738gVNyFMvSufqv\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303\",\"dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV\"]}},\"version\":1}",
  "metadata": {
    "compiler": {
      "version": "0.8.28+commit.7893614a"
    },
    "language": "Solidity",
    "output": {
      "abi": [
        {
          "inputs": [
            {
              "internalType": "address",
              "name": "_antToken",
              "type": "address"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "constructor"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "AntTokenNull"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "BatchLimitExceeded"
        },
        {
          "inputs": [
            {
              "internalType": "uint8",
              "name": "depth",
              "type": "uint8"
            },
            {
              "internalType": "uint8",
              "name": "max",
              "type": "uint8"
            }
          ],
          "type": "error",
          "name": "DepthTooLarge"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "GracePeriodNotOver"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidAmount"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidChainlinkPrice"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidInputLength"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidQuoteHash"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidRecipientsCount"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidRoot"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "InvalidTreeDepth"
        },
        {
          "inputs": [
            {
              "internalType": "bytes32",
              "name": "poolHash",
              "type": "bytes32"
            }
          ],
          "type": "error",
          "name": "PaymentAlreadyExists"
        },
        {
          "inputs": [
            {
              "internalType": "bytes32",
              "name": "poolHash",
              "type": "bytes32"
            }
          ],
          "type": "error",
          "name": "PaymentNotFound"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "PriceFeedNull"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "RootAlreadyPaid"
        },
        {
          "inputs": [],
          "type": "error",
          "name": "SequencerDown"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "poolIdx",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "expected",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "got",
              "type": "uint256"
            }
          ],
          "type": "error",
          "name": "WrongCandidateCount"
        },
        {
          "inputs": [
            {
              "internalType": "uint256",
              "name": "expected",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "got",
              "type": "uint256"
            }
          ],
          "type": "error",
          "name": "WrongPoolCount"
        },
        {
          "inputs": [
            {
              "internalType": "bytes32",
              "name": "root",
              "type": "bytes32",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "treeDepth",
              "type": "uint256",
              "indexed": true
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256",
              "indexed": true
            }
          ],
          "type": "event",
          "name": "DataPaymentMade",
          "anonymous": false
        },
        {
          "inputs": [
            {
              "internalType": "bytes32",
              "name": "winnerPoolHash",
              "type": "bytes32",
              "indexed": true
            },
            {
              "internalType": "uint8",
              "name": "depth",
              "type": "uint8",
              "indexed": false
            },
            {
              "internalType": "uint256",
              "name": "totalAmount",
              "type": "uint256",
              "indexed": false
            },
            {
              "internalType": "uint64",
              "name": "merklePaymentTimestamp",
              "type": "uint64",
              "indexed": false
            }
          ],
          "type": "event",
          "name": "MerklePaymentMade",
          "anonymous": false
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "CANDIDATES_PER_POOL",
          "outputs": [
            {
              "internalType": "uint8",
              "name": "",
              "type": "uint8"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "MAX_MERKLE_DEPTH",
          "outputs": [
            {
              "internalType": "uint8",
              "name": "",
              "type": "uint8"
            }
          ]
        },
        {
          "inputs": [],
          "stateMutability": "view",
          "type": "function",
          "name": "antToken",
          "outputs": [
            {
              "internalType": "contract IERC20",
              "name": "",
              "type": "address"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint8",
              "name": "depth",
              "type": "uint8"
            },
            {
              "internalType": "struct IMerklePaymentVault.PoolCommitment[]",
              "name": "poolCommitments",
              "type": "tuple[]",
              "components": [
                {
                  "internalType": "bytes32",
                  "name": "poolHash",
                  "type": "bytes32"
                },
                {
                  "internalType": "struct IMerklePaymentVault.CandidateNode[16]",
                  "name": "candidates",
                  "type": "tuple[16]",
                  "components": [
                    {
                      "internalType": "address",
                      "name": "rewardsAddress",
                      "type": "address"
                    },
                    {
                      "internalType": "struct IMerklePaymentVault.QuotingMetrics",
                      "name": "metrics",
                      "type": "tuple",
                      "components": [
                        {
                          "internalType": "enum IMerklePaymentVault.DataType",
                          "name": "dataType",
                          "type": "uint8"
                        },
                        {
                          "internalType": "uint256",
                          "name": "closeRecordsStored",
                          "type": "uint256"
                        },
                        {
                          "internalType": "struct IMerklePaymentVault.Record[]",
                          "name": "recordsPerType",
                          "type": "tuple[]",
                          "components": [
                            {
                              "internalType": "enum IMerklePaymentVault.DataType",
                              "name": "dataType",
                              "type": "uint8"
                            },
                            {
                              "internalType": "uint256",
                              "name": "records",
                              "type": "uint256"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "internalType": "uint64",
              "name": "merklePaymentTimestamp",
              "type": "uint64"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "estimateMerkleTreeCost",
          "outputs": [
            {
              "internalType": "uint256",
              "name": "totalAmount",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "bytes32",
              "name": "winnerPoolHash",
              "type": "bytes32"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "getPaymentInfo",
          "outputs": [
            {
              "internalType": "struct IMerklePaymentVault.PaymentInfo",
              "name": "info",
              "type": "tuple",
              "components": [
                {
                  "internalType": "uint8",
                  "name": "depth",
                  "type": "uint8"
                },
                {
                  "internalType": "uint64",
                  "name": "merklePaymentTimestamp",
                  "type": "uint64"
                },
                {
                  "internalType": "struct IMerklePaymentVault.PaidNode[]",
                  "name": "paidNodeAddresses",
                  "type": "tuple[]",
                  "components": [
                    {
                      "internalType": "address",
                      "name": "rewardsAddress",
                      "type": "address"
                    },
                    {
                      "internalType": "uint8",
                      "name": "poolIndex",
                      "type": "uint8"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "uint8",
              "name": "depth",
              "type": "uint8"
            },
            {
              "internalType": "struct IMerklePaymentVault.PoolCommitment[]",
              "name": "poolCommitments",
              "type": "tuple[]",
              "components": [
                {
                  "internalType": "bytes32",
                  "name": "poolHash",
                  "type": "bytes32"
                },
                {
                  "internalType": "struct IMerklePaymentVault.CandidateNode[16]",
                  "name": "candidates",
                  "type": "tuple[16]",
                  "components": [
                    {
                      "internalType": "address",
                      "name": "rewardsAddress",
                      "type": "address"
                    },
                    {
                      "internalType": "struct IMerklePaymentVault.QuotingMetrics",
                      "name": "metrics",
                      "type": "tuple",
                      "components": [
                        {
                          "internalType": "enum IMerklePaymentVault.DataType",
                          "name": "dataType",
                          "type": "uint8"
                        },
                        {
                          "internalType": "uint256",
                          "name": "closeRecordsStored",
                          "type": "uint256"
                        },
                        {
                          "internalType": "struct IMerklePaymentVault.Record[]",
                          "name": "recordsPerType",
                          "type": "tuple[]",
                          "components": [
                            {
                              "internalType": "enum IMerklePaymentVault.DataType",
                              "name": "dataType",
                              "type": "uint8"
                            },
                            {
                              "internalType": "uint256",
                              "name": "records",
                              "type": "uint256"
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "internalType": "uint64",
              "name": "merklePaymentTimestamp",
              "type": "uint64"
            }
          ],
          "stateMutability": "nonpayable",
          "type": "function",
          "name": "payForMerkleTree",
          "outputs": [
            {
              "internalType": "bytes32",
              "name": "winnerPoolHash",
              "type": "bytes32"
            },
            {
              "internalType": "uint256",
              "name": "totalAmount",
              "type": "uint256"
            }
          ]
        },
        {
          "inputs": [
            {
              "internalType": "bytes32",
              "name": "",
              "type": "bytes32"
            }
          ],
          "stateMutability": "view",
          "type": "function",
          "name": "payments",
          "outputs": [
            {
              "internalType": "uint8",
              "name": "depth",
              "type": "uint8"
            },
            {
              "internalType": "uint64",
              "name": "merklePaymentTimestamp",
              "type": "uint64"
            }
          ]
        }
      ],
      "devdoc": {
        "kind": "dev",
        "methods": {
          "estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)": {
            "params": {
              "depth": "Tree depth (determines number of nodes paid)",
              "merklePaymentTimestamp": "Client-provided timestamp",
              "poolCommitments": "Array of pool commitments (2^ceil(depth/2))"
            },
            "returns": {
              "totalAmount": "Estimated total tokens that would be paid"
            }
          },
          "getPaymentInfo(bytes32)": {
            "params": {
              "winnerPoolHash": "Hash returned from payForMerkleTree"
            },
            "returns": {
              "info": "Payment information stored on-chain"
            }
          },
          "payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)": {
            "params": {
              "depth": "Tree depth (determines number of nodes paid)",
              "merklePaymentTimestamp": "Client-provided timestamp",
              "poolCommitments": "Array of pool commitments (2^ceil(depth/2))"
            },
            "returns": {
              "totalAmount": "Total tokens paid to winners",
              "winnerPoolHash": "Hash of selected winner pool"
            }
          }
        },
        "version": 1
      },
      "userdoc": {
        "kind": "user",
        "methods": {
          "CANDIDATES_PER_POOL()": {
            "notice": "Number of candidates per pool (fixed)"
          },
          "MAX_MERKLE_DEPTH()": {
            "notice": "Maximum supported Merkle tree depth"
          },
          "antToken()": {
            "notice": "ANT token contract"
          },
          "estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)": {
            "notice": "Estimate the cost of a Merkle tree payment without executing it This is a view function (0 gas) that runs the same pricing logic as payForMerkleTree but returns only the estimated cost without executing payment."
          },
          "getPaymentInfo(bytes32)": {
            "notice": "Get payment info by winner pool hash"
          },
          "payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,(uint8,uint256)[]))[16])[],uint64)": {
            "notice": "Pay for Merkle tree batch"
          },
          "payments(bytes32)": {
            "notice": "Payment info indexed by winner pool hash"
          }
        },
        "version": 1
      }
    },
    "settings": {
      "remappings": [
        "@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/",
        "erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/",
        "forge-std/=lib/openzeppelin-contracts/lib/forge-std/src/",
        "halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/",
        "openzeppelin-contracts/=lib/openzeppelin-contracts/"
      ],
      "optimizer": {
        "enabled": true,
        "runs": 200
      },
      "metadata": {
        "bytecodeHash": "ipfs"
      },
      "compilationTarget": {
        "contracts/MerklePaymentVault.sol": "MerklePaymentVault"
      },
      "evmVersion": "cancun",
      "libraries": {},
      "viaIR": true
    },
    "sources": {
      "contracts/IMerklePaymentVault.sol": {
        "keccak256": "0x024a743d548e8c70cac35582a882de61bdcc37ba286512aa4c6b21c56198a875",
        "urls": [
          "bzz-raw://bfc083023aca49d207386a601f2a78100c2702490be855956bbe4fef02f66f80",
          "dweb:/ipfs/QmTm3QZ11TvwKopPeSPAZhKpHigvsoy95Yb7tJ3JMD1fyd"
        ],
        "license": "GPL-3.0"
      },
      "contracts/MerklePaymentVault.sol": {
        "keccak256": "0x908728d3eb99ad8882ce0f8bcae2a88b67326df920d921e0f08e1c179d91fc0a",
        "urls": [
          "bzz-raw://49dadaf11940df8f38b8e133b3a1589b5bd72320db327f84ebda7cd421b9a79a",
          "dweb:/ipfs/QmV6akj91Np17TGc5itWaTieG32CPUx738gVNyFMvSufqv"
        ],
        "license": "GPL-3.0"
      },
      "lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol": {
        "keccak256": "0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2",
        "urls": [
          "bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303",
          "dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV"
        ],
        "license": "MIT"
      }
    },
    "version": 1
  },
  "id": 1
}