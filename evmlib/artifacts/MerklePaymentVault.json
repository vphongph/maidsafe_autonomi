{"abi":[{"type":"constructor","inputs":[{"name":"_antToken","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"CANDIDATES_PER_POOL","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"MAX_MERKLE_DEPTH","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"antToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"estimateMerkleTreeCost","inputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"poolCommitments","type":"tuple[]","internalType":"struct MerklePaymentVault.PoolCommitment[]","components":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"},{"name":"candidates","type":"tuple[20]","internalType":"struct MerklePaymentVault.CandidateNode[20]","components":[{"name":"rewardsAddress","type":"address","internalType":"address"},{"name":"metrics","type":"tuple","internalType":"struct MerklePaymentVault.QuotingMetrics","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"dataSize","type":"uint256","internalType":"uint256"},{"name":"closeRecordsStored","type":"uint256","internalType":"uint256"},{"name":"recordsPerType","type":"tuple[]","internalType":"struct MerklePaymentVault.Record[]","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"records","type":"uint256","internalType":"uint256"}]},{"name":"maxRecords","type":"uint256","internalType":"uint256"},{"name":"receivedPaymentCount","type":"uint256","internalType":"uint256"},{"name":"liveTime","type":"uint256","internalType":"uint256"},{"name":"networkDensity","type":"uint256","internalType":"uint256"},{"name":"networkSize","type":"uint256","internalType":"uint256"}]}]}]},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"}],"outputs":[{"name":"totalAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPaymentInfo","inputs":[{"name":"winnerPoolHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"info","type":"tuple","internalType":"struct MerklePaymentVault.PaymentInfo","components":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"},{"name":"paidNodeAddresses","type":"tuple[]","internalType":"struct MerklePaymentVault.PaidNode[]","components":[{"name":"rewardsAddress","type":"address","internalType":"address"},{"name":"poolIndex","type":"uint8","internalType":"uint8"}]}]}],"stateMutability":"view"},{"type":"function","name":"payForMerkleTree","inputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"poolCommitments","type":"tuple[]","internalType":"struct MerklePaymentVault.PoolCommitment[]","components":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"},{"name":"candidates","type":"tuple[20]","internalType":"struct MerklePaymentVault.CandidateNode[20]","components":[{"name":"rewardsAddress","type":"address","internalType":"address"},{"name":"metrics","type":"tuple","internalType":"struct MerklePaymentVault.QuotingMetrics","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"dataSize","type":"uint256","internalType":"uint256"},{"name":"closeRecordsStored","type":"uint256","internalType":"uint256"},{"name":"recordsPerType","type":"tuple[]","internalType":"struct MerklePaymentVault.Record[]","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"records","type":"uint256","internalType":"uint256"}]},{"name":"maxRecords","type":"uint256","internalType":"uint256"},{"name":"receivedPaymentCount","type":"uint256","internalType":"uint256"},{"name":"liveTime","type":"uint256","internalType":"uint256"},{"name":"networkDensity","type":"uint256","internalType":"uint256"},{"name":"networkSize","type":"uint256","internalType":"uint256"}]}]}]},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"}],"outputs":[{"name":"winnerPoolHash","type":"bytes32","internalType":"bytes32"},{"name":"totalAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"payments","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"}],"stateMutability":"view"},{"type":"event","name":"MerklePaymentMade","inputs":[{"name":"winnerPoolHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"depth","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"totalAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"merklePaymentTimestamp","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"error","name":"DepthTooLarge","inputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"max","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"InsufficientAllowance","inputs":[{"name":"have","type":"uint256","internalType":"uint256"},{"name":"need","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InsufficientBalance","inputs":[{"name":"have","type":"uint256","internalType":"uint256"},{"name":"need","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"PaymentAlreadyExists","inputs":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"PaymentNotFound","inputs":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"WrongCandidateCount","inputs":[{"name":"poolIdx","type":"uint256","internalType":"uint256"},{"name":"expected","type":"uint256","internalType":"uint256"},{"name":"got","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"WrongPoolCount","inputs":[{"name":"expected","type":"uint256","internalType":"uint256"},{"name":"got","type":"uint256","internalType":"uint256"}]}],"bytecode":{"object":"0x60a0346100be57601f610e7438819003918201601f19168301916001600160401b038311848410176100c3578084926020946040528339810103126100be57516001600160a01b038116908190036100be57801561007957608052604051610d9a90816100da823960805181818161034901526108520152f35b60405162461bcd60e51b815260206004820152601560248201527f496e76616c696420746f6b656e206164647265737300000000000000000000006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608080604052600436101561001357600080fd5b60003560e01c908163043b7587146108dc575080630716326d1461089d578063137978c3146108815780634ec42e8e1461083c5780637d7b5d42146102ba578063a13d0170146101f25763a75e9b191461006c57600080fd5b346101ed5760203660031901126101ed5760043560606040805161008f816109f2565b60008152600060208201520152806000526000602052604060002090604051906100b8826109f2565b600183549360ff851684526001600160401b03602085019560081c168552019081546100e381610a7a565b926100f16040519485610a0d565b818452602084019060005260206000206000915b8383106101b757505050506040830191825260ff835116156101a3576001600160401b038484846040519384936020855260ff6080860194511660208601525116604084015251906060808401528151809152602060a0840192019060005b818110610172575050500390f35b825180516001600160a01b0316855260209081015160ff168186015286955060409094019390920191600101610164565b63272f9fc160e01b60005260045260246000fd5b6001602081926040516101c9816109d7565b60ff8654858060a01b038116835260a01c1683820152815201920192019190610105565b600080fd5b346101ed57610200366108f6565b60ff841693601085116102a05761021690610a91565b808303610287575060005b82811061026557602061025d8661025861025361024a89896102448a3383610aac565b9161097e565b85810190610998565b610b19565b6109ae565b604051908152f35b80610280610276600193868861097e565b6020810190610998565b5001610221565b90506347fe11b560e11b60005260045260245260446000fd5b8463164b5f0360e11b600052600452601060245260446000fd5b346101ed576102c8366108f6565b92919060ff83169260108411610822576102e190610a91565b80820361080b575060005b8181106107f357509061030491610244853383610aac565b9182359283600052600060205260ff604060002054166107de576020810192610334816102586102538786610998565b6040516370a0823160e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031696919291906020816024818b5afa9081156106ed576000916107ac575b508381106107935750604051636eb1769f60e11b81523360048201523060248201526020816044818b5afa9081156106ed57600091610761575b5083811061074857506103da82610a7a565b926103e86040519485610a0d565b828452601f196103f784610a7a565b013660208601376040519561028061040f8189610a0d565b36883760405160208101904482528460408201526001600160401b0360c01b8360c01b16606082015260488152610447606882610a0d565b51902098600096879a5b8689108061073e575b156104da57604051602081019182528c60408201526040815261047e606082610a0d565b5190209a60ff60148d06168a6104948282610b08565b51156104ac575b50506104a690610d55565b9a610451565b998160016104c16104d2946104a6969e610b08565b526104cc828c610a4e565b52610d55565b98908a61049b565b509086918a878a036106f9576000878152602081905260409020805468ffffffffffffffffff19168917600887901b68ffffffffffffffff001617815593926105238988610a2e565b92600160009601955b8a8110610583575060408989817f89f0ad3859fec321e325bcc553fe234bcad374789a86f7ba932067f3f05affec60608f6001600160401b038e88519283528660208401521687820152a282519182526020820152f35b60ff61058f8288610a4e565b5116906105a5826105a08786610998565b610a62565b356001600160a01b038116908190036101ed576040516323b872dd60e01b815233600482015281602482015287604482015260208160648160008a5af19081156106ed576000916106ac575b501561069b5760405190610604826109d7565b815260208101928352885492680100000000000000008410156106855760018401808b5584101561066f576001938a60005260206000200191848060a01b0390511682549160ff60a01b905160a01b16916affffffffffffffffffffff60a81b16171790550161052c565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6312171d8360e31b60005260046000fd5b6020813d82116106e5575b816106c460209383610a0d565b810103126106e157519081151582036106de57508e6105f1565b80fd5b5080fd5b3d91506106b7565b6040513d6000823e3d90fd5b60405162461bcd60e51b815260206004820152601f60248201527f4661696c656420746f2073656c65637420656e6f7567682077696e6e657273006044820152606490fd5b5060648c1061045a565b839063054365bb60e31b60005260045260245260446000fd5b906020823d60201161078b575b8161077b60209383610a0d565b810103126106de575051886103c8565b3d915061076e565b839063cf47918160e01b60005260045260245260446000fd5b906020823d6020116107d6575b816107c660209383610a0d565b810103126106de5750518861038e565b3d91506107b9565b83639d8c19ed60e01b60005260045260246000fd5b80610804610276600193858761097e565b50016102ec565b6347fe11b560e11b60005260045260245260446000fd5b8363164b5f0360e11b600052600452601060245260446000fd5b346101ed5760003660031901126101ed576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101ed5760003660031901126101ed57602060405160148152f35b346101ed5760203660031901126101ed576004356000526000602052604080600020546001600160401b0382519160ff8116835260081c166020820152f35b346101ed5760003660031901126101ed5780601060209252f35b60606003198201126101ed5760043560ff811681036101ed57916024356001600160401b0381116101ed57826023820112156101ed578060040135926001600160401b0384116101ed5760248460051b830101116101ed5760240191906044356001600160401b03811681036101ed5790565b903590603e19813603018212156101ed570190565b9082101561066f576109959160051b810190610969565b90565b90359061027e19813603018212156101ed570190565b818102929181159184041417156109c157565b634e487b7160e01b600052601160045260246000fd5b604081019081106001600160401b0382111761068557604052565b606081019081106001600160401b0382111761068557604052565b90601f801991011681019081106001600160401b0382111761068557604052565b8115610a38570490565b634e487b7160e01b600052601260045260246000fd5b805182101561066f5760209160051b010190565b601482101561066f576109959160051b810190610969565b6001600160401b0381116106855760051b60200190565b60ff600191160160ff81116109c157607f600191821c161b90565b916040519060208201924484524260408401526bffffffffffffffffffffffff199060601b1660608301526001600160401b0360c01b9060c01b166074820152605c8152610afb607c82610a0d565b5190208115610a38570690565b90601481101561066f5760051b0190565b60405190610280610b2a8184610a0d565b36833760005b60148110610bf657505060015b60148110610b61575061014061012082015191015181018091116109c15760011c90565b9190610b6d8382610b08565b5191835b8015801580610bd7575b15610bbe576000198201918083116109c157610ba2610b9a8487610b08565b519186610b08565b5215610b7157634e487b7160e01b600052601160045260246000fd5b5092610bd06001939495929585610b08565b5201610b3d565b5060001982018281116109c157610bef869186610b08565b5111610b7b565b610c008183610a62565b60208101359061011e19813603018212156101ed5701906000608083013580610d05575b5060640191826064116109c15760a08101356032811115610d00575060325b606401806064116109c15760649160e0810135151580610cf2575b610cb7575b60200135916103e88302908382046103e814841517156109c157610258620f424093610258600198610c94956109ae565b04908115610caf575b50610ca88286610b08565b5201610b30565b905038610c9d565b916101008301356103e8811115610cd75750506020605a925b9050610c63565b9080939111610ce9575b602090610cd0565b605f9250610ce1565b506101008101351515610c5e565b610c43565b90604084013590606482029180830460641490151715610d41575090610d2a91610a2e565b60648111610d39575b38610c24565b506064610d33565b634e487b7160e01b81526011600452602490fd5b60001981146109c1576001019056fea2646970667358221220de9eb5f795f4a4d9d63ba027378ed3b9e15d26d8e347c58ac995133293a506d964736f6c634300081c0033","sourceMap":"349:14310:0:-:0;;;;;;;;;;;;;-1:-1:-1;;349:14310:0;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;3186:23;;349:14310;;3245:28;;349:14310;;;;;;;;3245:28;349:14310;;;;;;;;;;;;;;-1:-1:-1;;;349:14310:0;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;349:14310:0;;;;;;-1:-1:-1;349:14310:0;;;;;-1:-1:-1;349:14310:0","linkReferences":{}},"deployedBytecode":{"object":"0x608080604052600436101561001357600080fd5b60003560e01c908163043b7587146108dc575080630716326d1461089d578063137978c3146108815780634ec42e8e1461083c5780637d7b5d42146102ba578063a13d0170146101f25763a75e9b191461006c57600080fd5b346101ed5760203660031901126101ed5760043560606040805161008f816109f2565b60008152600060208201520152806000526000602052604060002090604051906100b8826109f2565b600183549360ff851684526001600160401b03602085019560081c168552019081546100e381610a7a565b926100f16040519485610a0d565b818452602084019060005260206000206000915b8383106101b757505050506040830191825260ff835116156101a3576001600160401b038484846040519384936020855260ff6080860194511660208601525116604084015251906060808401528151809152602060a0840192019060005b818110610172575050500390f35b825180516001600160a01b0316855260209081015160ff168186015286955060409094019390920191600101610164565b63272f9fc160e01b60005260045260246000fd5b6001602081926040516101c9816109d7565b60ff8654858060a01b038116835260a01c1683820152815201920192019190610105565b600080fd5b346101ed57610200366108f6565b60ff841693601085116102a05761021690610a91565b808303610287575060005b82811061026557602061025d8661025861025361024a89896102448a3383610aac565b9161097e565b85810190610998565b610b19565b6109ae565b604051908152f35b80610280610276600193868861097e565b6020810190610998565b5001610221565b90506347fe11b560e11b60005260045260245260446000fd5b8463164b5f0360e11b600052600452601060245260446000fd5b346101ed576102c8366108f6565b92919060ff83169260108411610822576102e190610a91565b80820361080b575060005b8181106107f357509061030491610244853383610aac565b9182359283600052600060205260ff604060002054166107de576020810192610334816102586102538786610998565b6040516370a0823160e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031696919291906020816024818b5afa9081156106ed576000916107ac575b508381106107935750604051636eb1769f60e11b81523360048201523060248201526020816044818b5afa9081156106ed57600091610761575b5083811061074857506103da82610a7a565b926103e86040519485610a0d565b828452601f196103f784610a7a565b013660208601376040519561028061040f8189610a0d565b36883760405160208101904482528460408201526001600160401b0360c01b8360c01b16606082015260488152610447606882610a0d565b51902098600096879a5b8689108061073e575b156104da57604051602081019182528c60408201526040815261047e606082610a0d565b5190209a60ff60148d06168a6104948282610b08565b51156104ac575b50506104a690610d55565b9a610451565b998160016104c16104d2946104a6969e610b08565b526104cc828c610a4e565b52610d55565b98908a61049b565b509086918a878a036106f9576000878152602081905260409020805468ffffffffffffffffff19168917600887901b68ffffffffffffffff001617815593926105238988610a2e565b92600160009601955b8a8110610583575060408989817f89f0ad3859fec321e325bcc553fe234bcad374789a86f7ba932067f3f05affec60608f6001600160401b038e88519283528660208401521687820152a282519182526020820152f35b60ff61058f8288610a4e565b5116906105a5826105a08786610998565b610a62565b356001600160a01b038116908190036101ed576040516323b872dd60e01b815233600482015281602482015287604482015260208160648160008a5af19081156106ed576000916106ac575b501561069b5760405190610604826109d7565b815260208101928352885492680100000000000000008410156106855760018401808b5584101561066f576001938a60005260206000200191848060a01b0390511682549160ff60a01b905160a01b16916affffffffffffffffffffff60a81b16171790550161052c565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6312171d8360e31b60005260046000fd5b6020813d82116106e5575b816106c460209383610a0d565b810103126106e157519081151582036106de57508e6105f1565b80fd5b5080fd5b3d91506106b7565b6040513d6000823e3d90fd5b60405162461bcd60e51b815260206004820152601f60248201527f4661696c656420746f2073656c65637420656e6f7567682077696e6e657273006044820152606490fd5b5060648c1061045a565b839063054365bb60e31b60005260045260245260446000fd5b906020823d60201161078b575b8161077b60209383610a0d565b810103126106de575051886103c8565b3d915061076e565b839063cf47918160e01b60005260045260245260446000fd5b906020823d6020116107d6575b816107c660209383610a0d565b810103126106de5750518861038e565b3d91506107b9565b83639d8c19ed60e01b60005260045260246000fd5b80610804610276600193858761097e565b50016102ec565b6347fe11b560e11b60005260045260245260446000fd5b8363164b5f0360e11b600052600452601060245260446000fd5b346101ed5760003660031901126101ed576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101ed5760003660031901126101ed57602060405160148152f35b346101ed5760203660031901126101ed576004356000526000602052604080600020546001600160401b0382519160ff8116835260081c166020820152f35b346101ed5760003660031901126101ed5780601060209252f35b60606003198201126101ed5760043560ff811681036101ed57916024356001600160401b0381116101ed57826023820112156101ed578060040135926001600160401b0384116101ed5760248460051b830101116101ed5760240191906044356001600160401b03811681036101ed5790565b903590603e19813603018212156101ed570190565b9082101561066f576109959160051b810190610969565b90565b90359061027e19813603018212156101ed570190565b818102929181159184041417156109c157565b634e487b7160e01b600052601160045260246000fd5b604081019081106001600160401b0382111761068557604052565b606081019081106001600160401b0382111761068557604052565b90601f801991011681019081106001600160401b0382111761068557604052565b8115610a38570490565b634e487b7160e01b600052601260045260246000fd5b805182101561066f5760209160051b010190565b601482101561066f576109959160051b810190610969565b6001600160401b0381116106855760051b60200190565b60ff600191160160ff81116109c157607f600191821c161b90565b916040519060208201924484524260408401526bffffffffffffffffffffffff199060601b1660608301526001600160401b0360c01b9060c01b166074820152605c8152610afb607c82610a0d565b5190208115610a38570690565b90601481101561066f5760051b0190565b60405190610280610b2a8184610a0d565b36833760005b60148110610bf657505060015b60148110610b61575061014061012082015191015181018091116109c15760011c90565b9190610b6d8382610b08565b5191835b8015801580610bd7575b15610bbe576000198201918083116109c157610ba2610b9a8487610b08565b519186610b08565b5215610b7157634e487b7160e01b600052601160045260246000fd5b5092610bd06001939495929585610b08565b5201610b3d565b5060001982018281116109c157610bef869186610b08565b5111610b7b565b610c008183610a62565b60208101359061011e19813603018212156101ed5701906000608083013580610d05575b5060640191826064116109c15760a08101356032811115610d00575060325b606401806064116109c15760649160e0810135151580610cf2575b610cb7575b60200135916103e88302908382046103e814841517156109c157610258620f424093610258600198610c94956109ae565b04908115610caf575b50610ca88286610b08565b5201610b30565b905038610c9d565b916101008301356103e8811115610cd75750506020605a925b9050610c63565b9080939111610ce9575b602090610cd0565b605f9250610ce1565b506101008101351515610c5e565b610c43565b90604084013590606482029180830460641490151715610d41575090610d2a91610a2e565b60648111610d39575b38610c24565b506064610d33565b634e487b7160e01b81526011600452602490fd5b60001981146109c1576001019056fea2646970667358221220de9eb5f795f4a4d9d63ba027378ed3b9e15d26d8e347c58ac995133293a506d964736f6c634300081c0033","sourceMap":"349:14310:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8340:29;;;349:14310;;;;;;;;;-1:-1:-1;;349:14310:0;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9499:15;9495:84;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;-1:-1:-1;349:14310:0;;;;;;;;;;;;;9495:84;9537:31;;;349:14310;9537:31;349:14310;;;;9537:31;349:14310;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;7858:24;2255:2;7858:24;;7854:100;;8036:27;;;:::i;:::-;8077:39;;;8073:130;;8274:13;349:14310;8289:26;;;;;;8340:29;9083:19;8792:10;9015:44;9037:21;8895:30;8792:10;;8725:123;8792:10;;8725:123;;:::i;:::-;8895:30;;:::i;:::-;9037:21;;;;;:::i;:::-;9015:44;:::i;:::-;9083:19;:::i;:::-;349:14310;;;;;;8317:3;8340:18;:29;:18;349:14310;8340:18;;;;:::i;:::-;:29;;;;;:::i;:::-;;349:14310;8274:13;;8073:130;4227:53;;;;;349:14310;8139:53;349:14310;;;;;;8139:53;7854:100;3993:38;;;;349:14310;7905:38;349:14310;;2255:2;349:14310;;;;7905:38;349:14310;;;;;;;:::i;:::-;;;;;;;3946:24;2255:2;3946:24;;3942:100;;4124:27;;;:::i;:::-;4165:39;;;4161:130;;4362:13;349:14310;4377:26;;;;;;4847:10;;4950:30;4847:10;4780:123;4847:10;;4780:123;;:::i;4950:30::-;349:14310;;;;;;;;4428:29;349:14310;;;;;;;5094:109;;4428:29;5314:21;;;5360:19;5314:21;5292:44;5314:21;;;;:::i;5360:19::-;349:14310;;-1:-1:-1;;;5447:30:0;;4847:10;349:14310;5447:30;;349:14310;5447:8;-1:-1:-1;;;;;349:14310:0;;;;;;4428:29;349:14310;5447:30;349:14310;;5447:30;;;;;;;349:14310;5447:30;;;4357:341;5491:21;;;;5487:100;;-1:-1:-1;349:14310:0;;-1:-1:-1;;;5617:45:0;;4847:10;349:14310;5617:45;;349:14310;5656:4;5447:30;349:14310;;;4428:29;349:14310;5617:45;349:14310;5617:45;;;;;;;;349:14310;5617:45;;;4357:341;5676:23;;;;5672:106;;349:14310;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;;349:14310:0;;;:::i;:::-;;;4428:29;349:14310;;;;;;;;;;;:::i;:::-;;;;;;4428:29;13966:101;;13996:16;;349:14310;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;13966:101;;;;;;;:::i;:::-;349:14310;13956:112;;14079:25;349:14310;14114:20;;14185:364;;14192:21;;;:39;;;14185:364;14192:39;;;349:14310;;4428:29;14264:32;;349:14310;;;;;;;;;14264:32;;;349:14310;14264:32;;:::i;:::-;349:14310;14254:43;;349:14310;;2354:2;349:14310;;;14368:13;;;;;:::i;:::-;349:14310;;14363:152;;14185:364;14528:10;;;;;:::i;:::-;14185:364;;;14363:152;14401:20;;349:14310;14401:20;14485:15;14401:20;14528:10;14401:20;;;:::i;:::-;349:14310;14439:28;;;;:::i;:::-;349:14310;14485:15;:::i;:::-;14363:152;;;;;14192:39;;;;;;;;14567:22;349:14310;;;;;;4428:29;349:14310;;;;;;;;-1:-1:-1;;349:14310:0;;;;;;;;;;;;;;6275:19;349:14310;6275:19;;:::i;:::-;6309:13;349:14310;;6739:22;;6304:583;6324:9;;;;;;349:14310;;;;;6902:135;349:14310;;-1:-1:-1;;;;;349:14310:0;;;;;;;4428:29;349:14310;;;;;;;;6902:135;349:14310;;;;;4428:29;349:14310;;;;6335:3;349:14310;6370:16;;;;:::i;:::-;349:14310;;6425:21;:30;:21;;;;;:::i;:::-;:30;:::i;:::-;349:14310;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;6541:64;;4847:10;349:14310;6541:64;;349:14310;;5447:30;349:14310;;;;5617:45;349:14310;;;4428:29;6541:64;;;349:14310;6541:64;;;;;;;;349:14310;6541:64;;;6335:3;6623:8;;6619:70;;349:14310;;;;;;:::i;:::-;;;4428:29;6767:108;;349:14310;;;;;;;;;;;;;;;;;;;;;;;;;;;;4428:29;349:14310;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6309:13;;349:14310;;;;;;;;;5447:30;349:14310;;;;;;;;;;;5447:30;349:14310;;6619:70;6658:16;;;349:14310;6658:16;349:14310;;6658:16;6541:64;4428:29;6541:64;;;;;;;;;4428:29;6541:64;;;:::i;:::-;;;349:14310;;;;;;;;;;;;;6541:64;;;;349:14310;;;;;;;6541:64;;;-1:-1:-1;6541:64:0;;;349:14310;;;;;;;;;;;;-1:-1:-1;;;349:14310:0;;4428:29;349:14310;;;;;5447:30;349:14310;;;;5617:45;349:14310;;;;;;14192:39;14217:14;14228:3;14217:14;;14192:39;;5672:106;5722:45;;;;;349:14310;5722:45;349:14310;;5447:30;349:14310;5617:45;349:14310;5722:45;5617;;4428:29;5617:45;;4428:29;5617:45;;;;;;349:14310;5617:45;;;:::i;:::-;;;349:14310;;;;;;5617:45;;;;;;-1:-1:-1;5617:45:0;;5487:100;5535:41;;;;;349:14310;5535:41;349:14310;;5447:30;349:14310;;;5535:41;5447:30;;4428:29;5447:30;;4428:29;5447:30;;;;;;349:14310;5447:30;;;:::i;:::-;;;349:14310;;;;;;5447:30;;;;;;-1:-1:-1;5447:30:0;;5094:109;5156:36;;;;349:14310;5156:36;349:14310;;;;5156:36;4405:3;4428:18;:29;:18;349:14310;4428:18;;;;:::i;:29::-;;349:14310;4362:13;;4161:130;4227:53;;;349:14310;4227:53;349:14310;;;;;;4227:53;3942:100;3993:38;;;;349:14310;3993:38;349:14310;;2255:2;349:14310;;;;3993:38;349:14310;;;;;;-1:-1:-1;;349:14310:0;;;;;;2028:32;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;-1:-1:-1;;349:14310:0;;;;;;;2354:2;349:14310;;;;;;;;;-1:-1:-1;;349:14310:0;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:14310:0;;;;;2255:2;349:14310;;;;;;-1:-1:-1;;349:14310:0;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;:::o;:::-;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;:::o;:::-;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;349:14310:0;;;;;;;;;:::o;9732:188::-;349:14310;9844:1;9732:188;349:14310;;;;;;;;9844:1;349:14310;;;;;9732:188;:::o;9991:355::-;;349:14310;;10168:128;;;;10198:16;;349:14310;;10228:15;349:14310;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14310:0;;;;;;;;;;10168:128;;;;;;;:::i;:::-;349:14310;10158:139;;349:14310;;;;;9991:355;:::o;349:14310::-;;;;;;;;;;;;:::o;10408:508::-;349:14310;;;;;;;;:::i;:::-;;;;-1:-1:-1;10643:6:0;349:14310;10643:6;;;;13362:13;;349:14310;13377:6;349:14310;13377:6;;;;349:14310;;;;;;;;;;;;;;;;;;10408:508;:::o;13385:3::-;13418:9;;;;;;:::i;:::-;349:14310;13441:13;;13468:116;13475:5;;;;:28;;;13468:116;13475:28;;;-1:-1:-1;;349:14310:0;;;;;;;;13523:25;13535:13;;;;:::i;:::-;349:14310;13523:25;;;:::i;:::-;349:14310;;13468:116;349:14310;;;;-1:-1:-1;349:14310:0;;;;;-1:-1:-1;349:14310:0;13475:28;;;13597:15;349:14310;13475:28;;;;;13597:15;;:::i;:::-;349:14310;;13362:13;;13475:28;-1:-1:-1;;;349:14310:0;;;;;;;13484:13;;;;;:::i;:::-;349:14310;13484:19;13475:28;;10651:3;10692:13;;;;:::i;:::-;:21;;;349:14310;;;;;;;;;;;;;;11483:22;-1:-1:-1;11519:18:0;;;349:14310;11519:22;11515:173;;10651:3;349:14310;11847:3;349:14310;;;11847:3;349:14310;;;12023:28;;;349:14310;12054:2;12023:33;;12054:2;;;12023:69;12054:2;12023:69;11847:3;349:14310;;11847:3;349:14310;;;11847:3;12332:22;;;;349:14310;12332:26;;:53;;;12023:69;12328:432;;12023:69;10692:21;12833:16;349:14310;;11420:4;349:14310;;;;;;11420:4;349:14310;;;;;;;12833:109;12987:9;12833:73;;349:14310;12833:73;:141;:73;;:::i;:141::-;349:14310;13079:10;;;13075:93;;12023:69;10670:44;;;;;:::i;:::-;349:14310;;10628:13;;13075:93;13105:24;;13075:93;;;12328:432;12575:19;;;;349:14310;11420:4;12575:26;;11420:4;;;12621:22;;10692:21;12641:2;12571:179;;12328:432;;;;12571:179;12668:25;;;;;12664:86;;12571:179;10692:21;12571:179;;;12664:86;12733:2;;-1:-1:-1;12664:86:0;;12332:53;12362:19;;;;349:14310;12362:23;;12332:53;;12023:69;;;11515:173;11571:26;349:14310;11571:26;;349:14310;;11847:3;349:14310;;;;;;11847:3;349:14310;;;;;;;11570:55;;;;;:::i;:::-;11847:3;11643:16;;11639:38;;11515:173;;;;11639:38;11661:16;11847:3;11639:38;;349:14310;-1:-1:-1;;;349:14310:0;;;;;;;;;-1:-1:-1;;349:14310:0;;;;;;;:::o","linkReferences":{},"immutableReferences":{"67":[{"start":841,"length":32},{"start":2130,"length":32}]}},"methodIdentifiers":{"CANDIDATES_PER_POOL()":"137978c3","MAX_MERKLE_DEPTH()":"043b7587","antToken()":"4ec42e8e","estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)":"a13d0170","getPaymentInfo(bytes32)":"a75e9b19","payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)":"7d7b5d42","payments(bytes32)":"0716326d"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_antToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"max\",\"type\":\"uint8\"}],\"name\":\"DepthTooLarge\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"have\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"need\",\"type\":\"uint256\"}],\"name\":\"InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"have\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"need\",\"type\":\"uint256\"}],\"name\":\"InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"}],\"name\":\"PaymentAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"}],\"name\":\"PaymentNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolIdx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"got\",\"type\":\"uint256\"}],\"name\":\"WrongCandidateCount\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"got\",\"type\":\"uint256\"}],\"name\":\"WrongPoolCount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"MerklePaymentMade\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CANDIDATES_PER_POOL\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_MERKLE_DEPTH\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"antToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"dataSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"closeRecordsStored\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"records\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.Record[]\",\"name\":\"recordsPerType\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"maxRecords\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"receivedPaymentCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liveTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkDensity\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkSize\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.QuotingMetrics\",\"name\":\"metrics\",\"type\":\"tuple\"}],\"internalType\":\"struct MerklePaymentVault.CandidateNode[20]\",\"name\":\"candidates\",\"type\":\"tuple[20]\"}],\"internalType\":\"struct MerklePaymentVault.PoolCommitment[]\",\"name\":\"poolCommitments\",\"type\":\"tuple[]\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"estimateMerkleTreeCost\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"}],\"name\":\"getPaymentInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"poolIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct MerklePaymentVault.PaidNode[]\",\"name\":\"paidNodeAddresses\",\"type\":\"tuple[]\"}],\"internalType\":\"struct MerklePaymentVault.PaymentInfo\",\"name\":\"info\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"dataSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"closeRecordsStored\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"records\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.Record[]\",\"name\":\"recordsPerType\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"maxRecords\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"receivedPaymentCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liveTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkDensity\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkSize\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.QuotingMetrics\",\"name\":\"metrics\",\"type\":\"tuple\"}],\"internalType\":\"struct MerklePaymentVault.CandidateNode[20]\",\"name\":\"candidates\",\"type\":\"tuple[20]\"}],\"internalType\":\"struct MerklePaymentVault.PoolCommitment[]\",\"name\":\"poolCommitments\",\"type\":\"tuple[]\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"payForMerkleTree\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"payments\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)\":{\"params\":{\"depth\":\"Tree depth (determines number of nodes paid)\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"poolCommitments\":\"Array of pool commitments (2^ceil(depth/2))\"},\"returns\":{\"totalAmount\":\"Estimated total tokens that would be paid\"}},\"getPaymentInfo(bytes32)\":{\"params\":{\"winnerPoolHash\":\"Hash returned from payForMerkleTree\"},\"returns\":{\"info\":\"Payment information stored on-chain\"}},\"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)\":{\"params\":{\"depth\":\"Tree depth (determines number of nodes paid)\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"poolCommitments\":\"Array of pool commitments (2^ceil(depth/2))\"},\"returns\":{\"totalAmount\":\"Total tokens paid to winners\",\"winnerPoolHash\":\"Hash of selected winner pool\"}}},\"version\":1},\"userdoc\":{\"events\":{\"MerklePaymentMade(bytes32,uint8,uint256,uint64)\":{\"notice\":\"Emitted when a Merkle batch payment is made\"}},\"kind\":\"user\",\"methods\":{\"CANDIDATES_PER_POOL()\":{\"notice\":\"Number of candidates per pool (fixed)\"},\"MAX_MERKLE_DEPTH()\":{\"notice\":\"Maximum supported Merkle tree depth\"},\"antToken()\":{\"notice\":\"ANT token contract\"},\"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)\":{\"notice\":\"Estimate the cost of a Merkle tree payment without executing it This is a view function (0 gas) that runs the same pricing logic as payForMerkleTree but returns only the estimated cost without executing payment.\"},\"getPaymentInfo(bytes32)\":{\"notice\":\"Get payment info by winner pool hash\"},\"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)\":{\"notice\":\"Pay for Merkle tree batch\"},\"payments(bytes32)\":{\"notice\":\"Payment info indexed by winner pool hash\"}},\"notice\":\"Merkle Batch Payment Vault Handles batch payments for Merkle tree storage where multiple data chunks are paid for in a single transaction. Uses a fair median pricing mechanism based on candidate node metrics.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/MerklePaymentVault.sol\":\"MerklePaymentVault\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/MerklePaymentVault.sol\":{\"keccak256\":\"0xb26f0339b4216d6ff8faf7e1a466a066a5b4ced9aed5634b8f52eced32467231\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://2315213fe7c4b6584bededcba9c36b33b96cf3ab0514cc07876760b335e846cb\",\"dweb:/ipfs/QmbEj8CFXq7Kvp6sJzHCWkqjuqww83ULdMVi9X7M2bE9fE\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303\",\"dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_antToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"uint8","name":"max","type":"uint8"}],"type":"error","name":"DepthTooLarge"},{"inputs":[{"internalType":"uint256","name":"have","type":"uint256"},{"internalType":"uint256","name":"need","type":"uint256"}],"type":"error","name":"InsufficientAllowance"},{"inputs":[{"internalType":"uint256","name":"have","type":"uint256"},{"internalType":"uint256","name":"need","type":"uint256"}],"type":"error","name":"InsufficientBalance"},{"inputs":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"}],"type":"error","name":"PaymentAlreadyExists"},{"inputs":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"}],"type":"error","name":"PaymentNotFound"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[{"internalType":"uint256","name":"poolIdx","type":"uint256"},{"internalType":"uint256","name":"expected","type":"uint256"},{"internalType":"uint256","name":"got","type":"uint256"}],"type":"error","name":"WrongCandidateCount"},{"inputs":[{"internalType":"uint256","name":"expected","type":"uint256"},{"internalType":"uint256","name":"got","type":"uint256"}],"type":"error","name":"WrongPoolCount"},{"inputs":[{"internalType":"bytes32","name":"winnerPoolHash","type":"bytes32","indexed":true},{"internalType":"uint8","name":"depth","type":"uint8","indexed":false},{"internalType":"uint256","name":"totalAmount","type":"uint256","indexed":false},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64","indexed":false}],"type":"event","name":"MerklePaymentMade","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"CANDIDATES_PER_POOL","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_MERKLE_DEPTH","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"antToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"struct MerklePaymentVault.PoolCommitment[]","name":"poolCommitments","type":"tuple[]","components":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"},{"internalType":"struct MerklePaymentVault.CandidateNode[20]","name":"candidates","type":"tuple[20]","components":[{"internalType":"address","name":"rewardsAddress","type":"address"},{"internalType":"struct MerklePaymentVault.QuotingMetrics","name":"metrics","type":"tuple","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"dataSize","type":"uint256"},{"internalType":"uint256","name":"closeRecordsStored","type":"uint256"},{"internalType":"struct MerklePaymentVault.Record[]","name":"recordsPerType","type":"tuple[]","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"records","type":"uint256"}]},{"internalType":"uint256","name":"maxRecords","type":"uint256"},{"internalType":"uint256","name":"receivedPaymentCount","type":"uint256"},{"internalType":"uint256","name":"liveTime","type":"uint256"},{"internalType":"uint256","name":"networkDensity","type":"uint256"},{"internalType":"uint256","name":"networkSize","type":"uint256"}]}]}]},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"}],"stateMutability":"view","type":"function","name":"estimateMerkleTreeCost","outputs":[{"internalType":"uint256","name":"totalAmount","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"winnerPoolHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getPaymentInfo","outputs":[{"internalType":"struct MerklePaymentVault.PaymentInfo","name":"info","type":"tuple","components":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"},{"internalType":"struct MerklePaymentVault.PaidNode[]","name":"paidNodeAddresses","type":"tuple[]","components":[{"internalType":"address","name":"rewardsAddress","type":"address"},{"internalType":"uint8","name":"poolIndex","type":"uint8"}]}]}]},{"inputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"struct MerklePaymentVault.PoolCommitment[]","name":"poolCommitments","type":"tuple[]","components":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"},{"internalType":"struct MerklePaymentVault.CandidateNode[20]","name":"candidates","type":"tuple[20]","components":[{"internalType":"address","name":"rewardsAddress","type":"address"},{"internalType":"struct MerklePaymentVault.QuotingMetrics","name":"metrics","type":"tuple","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"dataSize","type":"uint256"},{"internalType":"uint256","name":"closeRecordsStored","type":"uint256"},{"internalType":"struct MerklePaymentVault.Record[]","name":"recordsPerType","type":"tuple[]","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"records","type":"uint256"}]},{"internalType":"uint256","name":"maxRecords","type":"uint256"},{"internalType":"uint256","name":"receivedPaymentCount","type":"uint256"},{"internalType":"uint256","name":"liveTime","type":"uint256"},{"internalType":"uint256","name":"networkDensity","type":"uint256"},{"internalType":"uint256","name":"networkSize","type":"uint256"}]}]}]},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"}],"stateMutability":"nonpayable","type":"function","name":"payForMerkleTree","outputs":[{"internalType":"bytes32","name":"winnerPoolHash","type":"bytes32"},{"internalType":"uint256","name":"totalAmount","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"payments","outputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"}]}],"devdoc":{"kind":"dev","methods":{"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)":{"params":{"depth":"Tree depth (determines number of nodes paid)","merklePaymentTimestamp":"Client-provided timestamp","poolCommitments":"Array of pool commitments (2^ceil(depth/2))"},"returns":{"totalAmount":"Estimated total tokens that would be paid"}},"getPaymentInfo(bytes32)":{"params":{"winnerPoolHash":"Hash returned from payForMerkleTree"},"returns":{"info":"Payment information stored on-chain"}},"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)":{"params":{"depth":"Tree depth (determines number of nodes paid)","merklePaymentTimestamp":"Client-provided timestamp","poolCommitments":"Array of pool commitments (2^ceil(depth/2))"},"returns":{"totalAmount":"Total tokens paid to winners","winnerPoolHash":"Hash of selected winner pool"}}},"version":1},"userdoc":{"kind":"user","methods":{"CANDIDATES_PER_POOL()":{"notice":"Number of candidates per pool (fixed)"},"MAX_MERKLE_DEPTH()":{"notice":"Maximum supported Merkle tree depth"},"antToken()":{"notice":"ANT token contract"},"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)":{"notice":"Estimate the cost of a Merkle tree payment without executing it This is a view function (0 gas) that runs the same pricing logic as payForMerkleTree but returns only the estimated cost without executing payment."},"getPaymentInfo(bytes32)":{"notice":"Get payment info by winner pool hash"},"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[20])[],uint64)":{"notice":"Pay for Merkle tree batch"},"payments(bytes32)":{"notice":"Payment info indexed by winner pool hash"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/MerklePaymentVault.sol":"MerklePaymentVault"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"contracts/MerklePaymentVault.sol":{"keccak256":"0xb26f0339b4216d6ff8faf7e1a466a066a5b4ced9aed5634b8f52eced32467231","urls":["bzz-raw://2315213fe7c4b6584bededcba9c36b33b96cf3ab0514cc07876760b335e846cb","dweb:/ipfs/QmbEj8CFXq7Kvp6sJzHCWkqjuqww83ULdMVi9X7M2bE9fE"],"license":"GPL-3.0"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2","urls":["bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303","dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV"],"license":"MIT"}},"version":1},"id":0}