{"abi":[{"type":"constructor","inputs":[{"name":"_antToken","type":"address","internalType":"address"}],"stateMutability":"nonpayable"},{"type":"function","name":"CANDIDATES_PER_POOL","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"MAX_MERKLE_DEPTH","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"uint8"}],"stateMutability":"view"},{"type":"function","name":"antToken","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IERC20"}],"stateMutability":"view"},{"type":"function","name":"estimateMerkleTreeCost","inputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"poolCommitments","type":"tuple[]","internalType":"struct MerklePaymentVault.PoolCommitment[]","components":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"},{"name":"candidates","type":"tuple[16]","internalType":"struct MerklePaymentVault.CandidateNode[16]","components":[{"name":"rewardsAddress","type":"address","internalType":"address"},{"name":"metrics","type":"tuple","internalType":"struct MerklePaymentVault.QuotingMetrics","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"dataSize","type":"uint256","internalType":"uint256"},{"name":"closeRecordsStored","type":"uint256","internalType":"uint256"},{"name":"recordsPerType","type":"tuple[]","internalType":"struct MerklePaymentVault.Record[]","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"records","type":"uint256","internalType":"uint256"}]},{"name":"maxRecords","type":"uint256","internalType":"uint256"},{"name":"receivedPaymentCount","type":"uint256","internalType":"uint256"},{"name":"liveTime","type":"uint256","internalType":"uint256"},{"name":"networkDensity","type":"uint256","internalType":"uint256"},{"name":"networkSize","type":"uint256","internalType":"uint256"}]}]}]},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"}],"outputs":[{"name":"totalAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getPaymentInfo","inputs":[{"name":"winnerPoolHash","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"info","type":"tuple","internalType":"struct MerklePaymentVault.PaymentInfo","components":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"},{"name":"paidNodeAddresses","type":"tuple[]","internalType":"struct MerklePaymentVault.PaidNode[]","components":[{"name":"rewardsAddress","type":"address","internalType":"address"},{"name":"poolIndex","type":"uint8","internalType":"uint8"}]}]}],"stateMutability":"view"},{"type":"function","name":"payForMerkleTree","inputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"poolCommitments","type":"tuple[]","internalType":"struct MerklePaymentVault.PoolCommitment[]","components":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"},{"name":"candidates","type":"tuple[16]","internalType":"struct MerklePaymentVault.CandidateNode[16]","components":[{"name":"rewardsAddress","type":"address","internalType":"address"},{"name":"metrics","type":"tuple","internalType":"struct MerklePaymentVault.QuotingMetrics","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"dataSize","type":"uint256","internalType":"uint256"},{"name":"closeRecordsStored","type":"uint256","internalType":"uint256"},{"name":"recordsPerType","type":"tuple[]","internalType":"struct MerklePaymentVault.Record[]","components":[{"name":"dataType","type":"uint8","internalType":"uint8"},{"name":"records","type":"uint256","internalType":"uint256"}]},{"name":"maxRecords","type":"uint256","internalType":"uint256"},{"name":"receivedPaymentCount","type":"uint256","internalType":"uint256"},{"name":"liveTime","type":"uint256","internalType":"uint256"},{"name":"networkDensity","type":"uint256","internalType":"uint256"},{"name":"networkSize","type":"uint256","internalType":"uint256"}]}]}]},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"}],"outputs":[{"name":"winnerPoolHash","type":"bytes32","internalType":"bytes32"},{"name":"totalAmount","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"payments","inputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"merklePaymentTimestamp","type":"uint64","internalType":"uint64"}],"stateMutability":"view"},{"type":"event","name":"MerklePaymentMade","inputs":[{"name":"winnerPoolHash","type":"bytes32","indexed":true,"internalType":"bytes32"},{"name":"depth","type":"uint8","indexed":false,"internalType":"uint8"},{"name":"totalAmount","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"merklePaymentTimestamp","type":"uint64","indexed":false,"internalType":"uint64"}],"anonymous":false},{"type":"error","name":"DepthTooLarge","inputs":[{"name":"depth","type":"uint8","internalType":"uint8"},{"name":"max","type":"uint8","internalType":"uint8"}]},{"type":"error","name":"InsufficientAllowance","inputs":[{"name":"have","type":"uint256","internalType":"uint256"},{"name":"need","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InsufficientBalance","inputs":[{"name":"have","type":"uint256","internalType":"uint256"},{"name":"need","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"PaymentAlreadyExists","inputs":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"PaymentNotFound","inputs":[{"name":"poolHash","type":"bytes32","internalType":"bytes32"}]},{"type":"error","name":"TransferFailed","inputs":[]},{"type":"error","name":"WrongCandidateCount","inputs":[{"name":"poolIdx","type":"uint256","internalType":"uint256"},{"name":"expected","type":"uint256","internalType":"uint256"},{"name":"got","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"WrongPoolCount","inputs":[{"name":"expected","type":"uint256","internalType":"uint256"},{"name":"got","type":"uint256","internalType":"uint256"}]}],"bytecode":{"object":"0x60a0346100be57601f610e7038819003918201601f19168301916001600160401b038311848410176100c3578084926020946040528339810103126100be57516001600160a01b038116908190036100be57801561007957608052604051610d9690816100da823960805181818161029101526107a10152f35b60405162461bcd60e51b815260206004820152601560248201527f496e76616c696420746f6b656e206164647265737300000000000000000000006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fdfe608080604052600436101561001357600080fd5b60003560e01c908163043b7587146108d9575080630716326d1461089a5780630f339e04146107ec578063137978c3146107d05780634ec42e8e1461078b5780635e271e17146101f25763a75e9b191461006c57600080fd5b346101ed5760203660031901126101ed5760043560606040805161008f816109ef565b60008152600060208201520152806000526000602052604060002090604051906100b8826109ef565b600183549360ff851684526001600160401b03602085019560081c168552019081546100e381610a77565b926100f16040519485610a0a565b818452602084019060005260206000206000915b8383106101b757505050506040830191825260ff835116156101a3576001600160401b038484846040519384936020855260ff6080860194511660208601525116604084015251906060808401528151809152602060a0840192019060005b818110610172575050500390f35b825180516001600160a01b0316855260209081015160ff168186015286955060409094019390920191600101610164565b63272f9fc160e01b60005260045260246000fd5b6001602081926040516101c9816109d4565b60ff8654858060a01b038116835260a01c1683820152815201920192019190610105565b600080fd5b346101ed57610200366108f3565b92919060ff831692600c84116107715761021990610a8e565b80820361075a575060005b8181106107385750906102429161023c853383610aa9565b9161097b565b9182359283600052600060205260ff6040600020541661072357602081019261027c816102776102728786610995565b610b16565b6109ab565b6040516370a0823160e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031696919291906020816024818b5afa908115610632576000916106f1575b508381106106d85750604051636eb1769f60e11b81523360048201523060248201526020816044818b5afa908115610632576000916106a6575b5083811061068d575061032282610a77565b926103306040519485610a0a565b828452601f1961033f84610a77565b01366020860137604051956102006103578189610a0a565b36883760405160208101904482528460408201526001600160401b0360c01b8360c01b1660608201526048815261038f606882610a0a565b51902098600096879a5b86891080610683575b1561041f57604051602081019182528c6040820152604081526103c6606082610a0a565b5190209a600f8c168a6103d98282610b05565b51156103f1575b50506103eb90610d51565b9a610399565b99816001610406610417946103eb969e610b05565b52610411828c610a4b565b52610d51565b98908a6103e0565b509086918a878a0361063e576000878152602081905260409020805468ffffffffffffffffff19168917600887901b68ffffffffffffffff001617815593926104688988610a2b565b92600160009601955b8a81106104c8575060408989817f89f0ad3859fec321e325bcc553fe234bcad374789a86f7ba932067f3f05affec60608f6001600160401b038e88519283528660208401521687820152a282519182526020820152f35b60ff6104d48288610a4b565b5116906104ea826104e58786610995565b610a5f565b356001600160a01b038116908190036101ed576040516323b872dd60e01b815233600482015281602482015287604482015260208160648160008a5af1908115610632576000916105f1575b50156105e05760405190610549826109d4565b815260208101928352885492680100000000000000008410156105ca5760018401808b558410156105b4576001938a60005260206000200191848060a01b0390511682549160ff60a01b905160a01b16916affffffffffffffffffffff60a81b161717905501610471565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6312171d8360e31b60005260046000fd5b6020813d821161062a575b8161060960209383610a0a565b81010312610626575190811515820361062357508e610536565b80fd5b5080fd5b3d91506105fc565b6040513d6000823e3d90fd5b60405162461bcd60e51b815260206004820152601f60248201527f4661696c656420746f2073656c65637420656e6f7567682077696e6e657273006044820152606490fd5b5060648c106103a2565b839063054365bb60e31b60005260045260245260446000fd5b906020823d6020116106d0575b816106c060209383610a0a565b8101031261062357505188610310565b3d91506106b3565b839063cf47918160e01b60005260045260245260446000fd5b906020823d60201161071b575b8161070b60209383610a0a565b81010312610623575051886102d6565b3d91506106fe565b83639d8c19ed60e01b60005260045260246000fd5b80610753610749600193858761097b565b6020810190610995565b5001610224565b6347fe11b560e11b60005260045260245260446000fd5b8363164b5f0360e11b600052600452600c60245260446000fd5b346101ed5760003660031901126101ed576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101ed5760003660031901126101ed57602060405160108152f35b346101ed576107fa366108f3565b60ff841693600c85116108805761081090610a8e565b808303610867575060005b82811061084f5760206108478661027761027261083e898961023c8a3383610aa9565b85810190610995565b604051908152f35b80610860610749600193868861097b565b500161081b565b90506347fe11b560e11b60005260045260245260446000fd5b8463164b5f0360e11b600052600452600c60245260446000fd5b346101ed5760203660031901126101ed576004356000526000602052604080600020546001600160401b0382519160ff8116835260081c166020820152f35b346101ed5760003660031901126101ed5780600c60209252f35b60606003198201126101ed5760043560ff811681036101ed57916024356001600160401b0381116101ed57826023820112156101ed578060040135926001600160401b0384116101ed5760248460051b830101116101ed5760240191906044356001600160401b03811681036101ed5790565b903590603e19813603018212156101ed570190565b908210156105b4576109929160051b810190610966565b90565b9035906101fe19813603018212156101ed570190565b818102929181159184041417156109be57565b634e487b7160e01b600052601160045260246000fd5b604081019081106001600160401b038211176105ca57604052565b606081019081106001600160401b038211176105ca57604052565b90601f801991011681019081106001600160401b038211176105ca57604052565b8115610a35570490565b634e487b7160e01b600052601260045260246000fd5b80518210156105b45760209160051b010190565b60108210156105b4576109929160051b810190610966565b6001600160401b0381116105ca5760051b60200190565b60ff600191160160ff81116109be57607f600191821c161b90565b916040519060208201924484524260408401526bffffffffffffffffffffffff199060601b1660608301526001600160401b0360c01b9060c01b166074820152605c8152610af8607c82610a0a565b5190208115610a35570690565b9060108110156105b45760051b0190565b60405190610200610b278184610a0a565b36833760005b60108110610bf257505060015b60108110610b5d575061010060e082015191015181018091116109be5760011c90565b9190610b698382610b05565b5191835b8015801580610bd3575b15610bba576000198201918083116109be57610b9e610b968487610b05565b519186610b05565b5215610b6d57634e487b7160e01b600052601160045260246000fd5b5092610bcc6001939495929585610b05565b5201610b3a565b5060001982018281116109be57610beb869186610b05565b5111610b77565b610bfc8183610a5f565b60208101359061011e19813603018212156101ed5701906000608083013580610d01575b5060640191826064116109be5760a08101356032811115610cfc575060325b606401806064116109be5760649160e0810135151580610cee575b610cb3575b60200135916103e88302908382046103e814841517156109be57610277620f424093610277600198610c90956109ab565b04908115610cab575b50610ca48286610b05565b5201610b2d565b905038610c99565b916101008301356103e8811115610cd35750506020605a925b9050610c5f565b9080939111610ce5575b602090610ccc565b605f9250610cdd565b506101008101351515610c5a565b610c3f565b90604084013590606482029180830460641490151715610d3d575090610d2691610a2b565b60648111610d35575b38610c20565b506064610d2f565b634e487b7160e01b81526011600452602490fd5b60001981146109be576001019056fea26469706673582212205581062b58ef76233f90f98422fc43d89804e37cbcd032a26d99ced66aa63ab364736f6c634300081c0033","sourceMap":"349:14442:0:-:0;;;;;;;;;;;;;-1:-1:-1;;349:14442:0;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;3220:23;;349:14442;;3279:28;;349:14442;;;;;;;;3279:28;349:14442;;;;;;;;;;;;;;-1:-1:-1;;;349:14442:0;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;349:14442:0;;;;;;-1:-1:-1;349:14442:0;;;;;-1:-1:-1;349:14442:0","linkReferences":{}},"deployedBytecode":{"object":"0x608080604052600436101561001357600080fd5b60003560e01c908163043b7587146108d9575080630716326d1461089a5780630f339e04146107ec578063137978c3146107d05780634ec42e8e1461078b5780635e271e17146101f25763a75e9b191461006c57600080fd5b346101ed5760203660031901126101ed5760043560606040805161008f816109ef565b60008152600060208201520152806000526000602052604060002090604051906100b8826109ef565b600183549360ff851684526001600160401b03602085019560081c168552019081546100e381610a77565b926100f16040519485610a0a565b818452602084019060005260206000206000915b8383106101b757505050506040830191825260ff835116156101a3576001600160401b038484846040519384936020855260ff6080860194511660208601525116604084015251906060808401528151809152602060a0840192019060005b818110610172575050500390f35b825180516001600160a01b0316855260209081015160ff168186015286955060409094019390920191600101610164565b63272f9fc160e01b60005260045260246000fd5b6001602081926040516101c9816109d4565b60ff8654858060a01b038116835260a01c1683820152815201920192019190610105565b600080fd5b346101ed57610200366108f3565b92919060ff831692600c84116107715761021990610a8e565b80820361075a575060005b8181106107385750906102429161023c853383610aa9565b9161097b565b9182359283600052600060205260ff6040600020541661072357602081019261027c816102776102728786610995565b610b16565b6109ab565b6040516370a0823160e01b81523360048201527f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031696919291906020816024818b5afa908115610632576000916106f1575b508381106106d85750604051636eb1769f60e11b81523360048201523060248201526020816044818b5afa908115610632576000916106a6575b5083811061068d575061032282610a77565b926103306040519485610a0a565b828452601f1961033f84610a77565b01366020860137604051956102006103578189610a0a565b36883760405160208101904482528460408201526001600160401b0360c01b8360c01b1660608201526048815261038f606882610a0a565b51902098600096879a5b86891080610683575b1561041f57604051602081019182528c6040820152604081526103c6606082610a0a565b5190209a600f8c168a6103d98282610b05565b51156103f1575b50506103eb90610d51565b9a610399565b99816001610406610417946103eb969e610b05565b52610411828c610a4b565b52610d51565b98908a6103e0565b509086918a878a0361063e576000878152602081905260409020805468ffffffffffffffffff19168917600887901b68ffffffffffffffff001617815593926104688988610a2b565b92600160009601955b8a81106104c8575060408989817f89f0ad3859fec321e325bcc553fe234bcad374789a86f7ba932067f3f05affec60608f6001600160401b038e88519283528660208401521687820152a282519182526020820152f35b60ff6104d48288610a4b565b5116906104ea826104e58786610995565b610a5f565b356001600160a01b038116908190036101ed576040516323b872dd60e01b815233600482015281602482015287604482015260208160648160008a5af1908115610632576000916105f1575b50156105e05760405190610549826109d4565b815260208101928352885492680100000000000000008410156105ca5760018401808b558410156105b4576001938a60005260206000200191848060a01b0390511682549160ff60a01b905160a01b16916affffffffffffffffffffff60a81b161717905501610471565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b6312171d8360e31b60005260046000fd5b6020813d821161062a575b8161060960209383610a0a565b81010312610626575190811515820361062357508e610536565b80fd5b5080fd5b3d91506105fc565b6040513d6000823e3d90fd5b60405162461bcd60e51b815260206004820152601f60248201527f4661696c656420746f2073656c65637420656e6f7567682077696e6e657273006044820152606490fd5b5060648c106103a2565b839063054365bb60e31b60005260045260245260446000fd5b906020823d6020116106d0575b816106c060209383610a0a565b8101031261062357505188610310565b3d91506106b3565b839063cf47918160e01b60005260045260245260446000fd5b906020823d60201161071b575b8161070b60209383610a0a565b81010312610623575051886102d6565b3d91506106fe565b83639d8c19ed60e01b60005260045260246000fd5b80610753610749600193858761097b565b6020810190610995565b5001610224565b6347fe11b560e11b60005260045260245260446000fd5b8363164b5f0360e11b600052600452600c60245260446000fd5b346101ed5760003660031901126101ed576040517f00000000000000000000000000000000000000000000000000000000000000006001600160a01b03168152602090f35b346101ed5760003660031901126101ed57602060405160108152f35b346101ed576107fa366108f3565b60ff841693600c85116108805761081090610a8e565b808303610867575060005b82811061084f5760206108478661027761027261083e898961023c8a3383610aa9565b85810190610995565b604051908152f35b80610860610749600193868861097b565b500161081b565b90506347fe11b560e11b60005260045260245260446000fd5b8463164b5f0360e11b600052600452600c60245260446000fd5b346101ed5760203660031901126101ed576004356000526000602052604080600020546001600160401b0382519160ff8116835260081c166020820152f35b346101ed5760003660031901126101ed5780600c60209252f35b60606003198201126101ed5760043560ff811681036101ed57916024356001600160401b0381116101ed57826023820112156101ed578060040135926001600160401b0384116101ed5760248460051b830101116101ed5760240191906044356001600160401b03811681036101ed5790565b903590603e19813603018212156101ed570190565b908210156105b4576109929160051b810190610966565b90565b9035906101fe19813603018212156101ed570190565b818102929181159184041417156109be57565b634e487b7160e01b600052601160045260246000fd5b604081019081106001600160401b038211176105ca57604052565b606081019081106001600160401b038211176105ca57604052565b90601f801991011681019081106001600160401b038211176105ca57604052565b8115610a35570490565b634e487b7160e01b600052601260045260246000fd5b80518210156105b45760209160051b010190565b60108210156105b4576109929160051b810190610966565b6001600160401b0381116105ca5760051b60200190565b60ff600191160160ff81116109be57607f600191821c161b90565b916040519060208201924484524260408401526bffffffffffffffffffffffff199060601b1660608301526001600160401b0360c01b9060c01b166074820152605c8152610af8607c82610a0a565b5190208115610a35570690565b9060108110156105b45760051b0190565b60405190610200610b278184610a0a565b36833760005b60108110610bf257505060015b60108110610b5d575061010060e082015191015181018091116109be5760011c90565b9190610b698382610b05565b5191835b8015801580610bd3575b15610bba576000198201918083116109be57610b9e610b968487610b05565b519186610b05565b5215610b6d57634e487b7160e01b600052601160045260246000fd5b5092610bcc6001939495929585610b05565b5201610b3a565b5060001982018281116109be57610beb869186610b05565b5111610b77565b610bfc8183610a5f565b60208101359061011e19813603018212156101ed5701906000608083013580610d01575b5060640191826064116109be5760a08101356032811115610cfc575060325b606401806064116109be5760649160e0810135151580610cee575b610cb3575b60200135916103e88302908382046103e814841517156109be57610277620f424093610277600198610c90956109ab565b04908115610cab575b50610ca48286610b05565b5201610b2d565b905038610c99565b916101008301356103e8811115610cd35750506020605a925b9050610c5f565b9080939111610ce5575b602090610ccc565b605f9250610cdd565b506101008101351515610c5a565b610c3f565b90604084013590606482029180830460641490151715610d3d575090610d2691610a2b565b60648111610d35575b38610c20565b506064610d2f565b634e487b7160e01b81526011600452602490fd5b60001981146109be576001019056fea26469706673582212205581062b58ef76233f90f98422fc43d89804e37cbcd032a26d99ced66aa63ab364736f6c634300081c0033","sourceMap":"349:14442:0:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8425:29;349:14442;8425:29;;;349:14442;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:14442:0;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;9601:15;9597:84;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;-1:-1:-1;349:14442:0;;;;;;;;;;;;;9597:84;9639:31;;;349:14442;9639:31;349:14442;;;;9639:31;349:14442;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;3980:24;2289:2;3980:24;;3976:100;;4158:27;;;:::i;:::-;4199:39;;;4195:130;;4413:13;349:14442;4428:26;;;;;;4898:10;;5001:30;4898:10;4831:123;4898:10;;4831:123;;:::i;:::-;5001:30;;:::i;:::-;349:14442;;;;;;;;4479:29;349:14442;;;;;;;5145:109;;4479:29;5382:21;;;5428:19;5382:21;5360:44;5382:21;;;;:::i;:::-;5360:44;:::i;:::-;5428:19;:::i;:::-;349:14442;;-1:-1:-1;;;5515:30:0;;4898:10;349:14442;5515:30;;349:14442;5515:8;-1:-1:-1;;;;;349:14442:0;;;;;;4479:29;349:14442;5515:30;349:14442;;5515:30;;;;;;;349:14442;5515:30;;;4408:341;5559:21;;;;5555:100;;-1:-1:-1;349:14442:0;;-1:-1:-1;;;5685:45:0;;4898:10;349:14442;5685:45;;349:14442;5724:4;5515:30;349:14442;;;4479:29;349:14442;5685:45;349:14442;5685:45;;;;;;;;349:14442;5685:45;;;4408:341;5744:23;;;;5740:106;;349:14442;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;;349:14442:0;;;:::i;:::-;;;4479:29;349:14442;;;;;;;;;;;:::i;:::-;;;;;;4479:29;14098:101;;14128:16;;349:14442;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;14098:101;;;;;;;:::i;:::-;349:14442;14088:112;;14211:25;349:14442;14246:20;;14317:364;;14324:21;;;:39;;;14317:364;14324:39;;;349:14442;;4479:29;14396:32;;349:14442;;;;;;;;;14396:32;;;349:14442;14396:32;;:::i;:::-;349:14442;14386:43;;349:14442;;;;14500:13;;;;;:::i;:::-;349:14442;;14495:152;;14317:364;14660:10;;;;;:::i;:::-;14317:364;;;14495:152;14533:20;;349:14442;14533:20;14617:15;14533:20;14660:10;14533:20;;;:::i;:::-;349:14442;14571:28;;;;:::i;:::-;349:14442;14617:15;:::i;:::-;14495:152;;;;;14324:39;;;;;;;;14699:22;349:14442;;;;;;4479:29;349:14442;;;;;;;;-1:-1:-1;;349:14442:0;;;;;;;;;;;;;;6343:19;349:14442;6343:19;;:::i;:::-;6377:13;349:14442;;6807:22;;6372:583;6392:9;;;;;;349:14442;;;;;6970:135;349:14442;;-1:-1:-1;;;;;349:14442:0;;;;;;;4479:29;349:14442;;;;;;;;6970:135;349:14442;;;;;4479:29;349:14442;;;;6403:3;349:14442;6438:16;;;;:::i;:::-;349:14442;;6493:21;:30;:21;;;;;:::i;:::-;:30;:::i;:::-;349:14442;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;6609:64;;4898:10;349:14442;6609:64;;349:14442;;5515:30;349:14442;;;;5685:45;349:14442;;;4479:29;6609:64;;;349:14442;6609:64;;;;;;;;349:14442;6609:64;;;6403:3;6691:8;;6687:70;;349:14442;;;;;;:::i;:::-;;;4479:29;6835:108;;349:14442;;;;;;;;;;;;;;;;;;;;;;;;;;;;4479:29;349:14442;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6377:13;;349:14442;;;;;;;;;5515:30;349:14442;;;;;;;;;;;5515:30;349:14442;;6687:70;6726:16;;;349:14442;6726:16;349:14442;;6726:16;6609:64;4479:29;6609:64;;;;;;;;;4479:29;6609:64;;;:::i;:::-;;;349:14442;;;;;;;;;;;;;6609:64;;;;349:14442;;;;;;;6609:64;;;-1:-1:-1;6609:64:0;;;349:14442;;;;;;;;;;;;-1:-1:-1;;;349:14442:0;;4479:29;349:14442;;;;;5515:30;349:14442;;;;5685:45;349:14442;;;;;;14324:39;14349:14;14360:3;14349:14;;14324:39;;5740:106;5790:45;;;;;349:14442;5790:45;349:14442;;5515:30;349:14442;5685:45;349:14442;5790:45;5685;;4479:29;5685:45;;4479:29;5685:45;;;;;;349:14442;5685:45;;;:::i;:::-;;;349:14442;;;;;;5685:45;;;;;;-1:-1:-1;5685:45:0;;5555:100;5603:41;;;;;349:14442;5603:41;349:14442;;5515:30;349:14442;;;5603:41;5515:30;;4479:29;5515:30;;4479:29;5515:30;;;;;;349:14442;5515:30;;;:::i;:::-;;;349:14442;;;;;;5515:30;;;;;;-1:-1:-1;5515:30:0;;5145:109;5207:36;;;;349:14442;5207:36;349:14442;;;;5207:36;4456:3;4479:18;:29;:18;349:14442;4479:18;;;;:::i;:::-;:29;;;;;:::i;:::-;;349:14442;4413:13;;4195:130;8207:53;;;349:14442;4261:53;349:14442;;;;;;4261:53;3976:100;7973:38;;;;349:14442;4027:38;349:14442;;2289:2;349:14442;;;;4027:38;349:14442;;;;;;-1:-1:-1;;349:14442:0;;;;;;2062:32;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;-1:-1:-1;;349:14442:0;;;;;;;2388:2;349:14442;;;;;;;;;;:::i;:::-;;;;7926:24;2289:2;7926:24;;7922:100;;8104:27;;;:::i;:::-;8145:39;;;8141:130;;8359:13;349:14442;8374:26;;;;;;8425:29;9185:19;8877:10;9117:44;9139:21;8980:30;8877:10;;8810:123;8877:10;;8810:123;;:::i;8980:30::-;9139:21;;;;;:::i;9185:19::-;349:14442;;;;;;8402:3;8425:18;:29;:18;349:14442;8425:18;;;;:::i;:29::-;;349:14442;8359:13;;8141:130;8207:53;;;;;349:14442;8207:53;349:14442;;;;;;8207:53;7922:100;7973:38;;;;349:14442;7973:38;349:14442;;2289:2;349:14442;;;;7973:38;349:14442;;;;;;-1:-1:-1;;349:14442:0;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;349:14442:0;;;;;2289:2;349:14442;;;;;;-1:-1:-1;;349:14442:0;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;;:::o;:::-;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;:::o;:::-;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;:::o;:::-;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;:::o;:::-;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;349:14442:0;;;;;;;;;:::o;9834:188::-;349:14442;9946:1;9834:188;349:14442;;;;;;;;9946:1;349:14442;;;;;9834:188;:::o;10093:355::-;;349:14442;;10270:128;;;;10300:16;;349:14442;;10330:15;349:14442;;;;;;;;;;;;;;-1:-1:-1;;;;;349:14442:0;;;;;;;;;;10270:128;;;;;;;:::i;:::-;349:14442;10260:139;;349:14442;;;;;10093:355;:::o;349:14442::-;;;;;;;;;;;;:::o;10527:504::-;349:14442;;;;;;;;:::i;:::-;;;;-1:-1:-1;10762:6:0;349:14442;10762:6;;;;13494:13;;349:14442;13509:6;349:14442;13509:6;;;;349:14442;;12447:22;349:14442;;;;;;;;;;;;;;;10527:504;:::o;13517:3::-;13550:9;;;;;;:::i;:::-;349:14442;13573:13;;13600:116;13607:5;;;;:28;;;13600:116;13607:28;;;-1:-1:-1;;349:14442:0;;;;;;;;13655:25;13667:13;;;;:::i;:::-;349:14442;13655:25;;;:::i;:::-;349:14442;;13600:116;349:14442;;;;-1:-1:-1;349:14442:0;;;;;-1:-1:-1;349:14442:0;13607:28;;;13729:15;349:14442;13607:28;;;;;13729:15;;:::i;:::-;349:14442;;13494:13;;13607:28;-1:-1:-1;;;349:14442:0;;;;;;;13616:13;;;;;:::i;:::-;349:14442;13616:19;13607:28;;10770:3;10811:13;;;;:::i;:::-;:21;;;349:14442;;;;;;;;;;;;;;11598:22;-1:-1:-1;11634:18:0;;;349:14442;11634:22;11630:173;;10770:3;349:14442;11962:3;349:14442;;;11962:3;349:14442;;;12138:28;;;349:14442;12169:2;12138:33;;12169:2;;;12138:69;12169:2;12138:69;11962:3;349:14442;;11962:3;349:14442;;;11962:3;12447:22;;;;349:14442;12447:26;;:53;;;12138:69;12443:432;;12138:69;10811:21;12948:16;349:14442;;11535:4;349:14442;;;;;;11535:4;349:14442;;;;;;;12948:109;13102:9;12948:73;;349:14442;12948:73;:141;:73;;:::i;:141::-;349:14442;13194:10;;;13190:93;;12138:69;10789:44;;;;;:::i;:::-;349:14442;;10747:13;;13190:93;13220:24;;13190:93;;;12443:432;12690:19;;;;349:14442;11535:4;12690:26;;11535:4;;;12736:22;;10811:21;12756:2;12686:179;;12443:432;;;;12686:179;12783:25;;;;;12779:86;;12686:179;10811:21;12686:179;;;12779:86;12848:2;;-1:-1:-1;12779:86:0;;12447:53;12477:19;;;;349:14442;12477:23;;12447:53;;12138:69;;;11630:173;11686:26;349:14442;11686:26;;349:14442;;11962:3;349:14442;;;;;;11962:3;349:14442;;;;;;;11685:55;;;;;:::i;:::-;11962:3;11758:16;;11754:38;;11630:173;;;;11754:38;11776:16;11962:3;11754:38;;349:14442;-1:-1:-1;;;349:14442:0;;;;;;;;;-1:-1:-1;;349:14442:0;;;;;;;:::o","linkReferences":{},"immutableReferences":{"67":[{"start":657,"length":32},{"start":1953,"length":32}]}},"methodIdentifiers":{"CANDIDATES_PER_POOL()":"137978c3","MAX_MERKLE_DEPTH()":"043b7587","antToken()":"4ec42e8e","estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)":"0f339e04","getPaymentInfo(bytes32)":"a75e9b19","payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)":"5e271e17","payments(bytes32)":"0716326d"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_antToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint8\",\"name\":\"max\",\"type\":\"uint8\"}],\"name\":\"DepthTooLarge\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"have\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"need\",\"type\":\"uint256\"}],\"name\":\"InsufficientAllowance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"have\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"need\",\"type\":\"uint256\"}],\"name\":\"InsufficientBalance\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"}],\"name\":\"PaymentAlreadyExists\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"}],\"name\":\"PaymentNotFound\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"TransferFailed\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"poolIdx\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"got\",\"type\":\"uint256\"}],\"name\":\"WrongCandidateCount\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"expected\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"got\",\"type\":\"uint256\"}],\"name\":\"WrongPoolCount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"MerklePaymentMade\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"CANDIDATES_PER_POOL\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"MAX_MERKLE_DEPTH\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"antToken\",\"outputs\":[{\"internalType\":\"contract IERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"dataSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"closeRecordsStored\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"records\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.Record[]\",\"name\":\"recordsPerType\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"maxRecords\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"receivedPaymentCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liveTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkDensity\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkSize\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.QuotingMetrics\",\"name\":\"metrics\",\"type\":\"tuple\"}],\"internalType\":\"struct MerklePaymentVault.CandidateNode[16]\",\"name\":\"candidates\",\"type\":\"tuple[16]\"}],\"internalType\":\"struct MerklePaymentVault.PoolCommitment[]\",\"name\":\"poolCommitments\",\"type\":\"tuple[]\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"estimateMerkleTreeCost\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"}],\"name\":\"getPaymentInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"internalType\":\"uint8\",\"name\":\"poolIndex\",\"type\":\"uint8\"}],\"internalType\":\"struct MerklePaymentVault.PaidNode[]\",\"name\":\"paidNodeAddresses\",\"type\":\"tuple[]\"}],\"internalType\":\"struct MerklePaymentVault.PaymentInfo\",\"name\":\"info\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"components\":[{\"internalType\":\"bytes32\",\"name\":\"poolHash\",\"type\":\"bytes32\"},{\"components\":[{\"internalType\":\"address\",\"name\":\"rewardsAddress\",\"type\":\"address\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"dataSize\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"closeRecordsStored\",\"type\":\"uint256\"},{\"components\":[{\"internalType\":\"uint8\",\"name\":\"dataType\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"records\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.Record[]\",\"name\":\"recordsPerType\",\"type\":\"tuple[]\"},{\"internalType\":\"uint256\",\"name\":\"maxRecords\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"receivedPaymentCount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"liveTime\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkDensity\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"networkSize\",\"type\":\"uint256\"}],\"internalType\":\"struct MerklePaymentVault.QuotingMetrics\",\"name\":\"metrics\",\"type\":\"tuple\"}],\"internalType\":\"struct MerklePaymentVault.CandidateNode[16]\",\"name\":\"candidates\",\"type\":\"tuple[16]\"}],\"internalType\":\"struct MerklePaymentVault.PoolCommitment[]\",\"name\":\"poolCommitments\",\"type\":\"tuple[]\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"name\":\"payForMerkleTree\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"winnerPoolHash\",\"type\":\"bytes32\"},{\"internalType\":\"uint256\",\"name\":\"totalAmount\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"name\":\"payments\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"depth\",\"type\":\"uint8\"},{\"internalType\":\"uint64\",\"name\":\"merklePaymentTimestamp\",\"type\":\"uint64\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{\"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)\":{\"params\":{\"depth\":\"Tree depth (determines number of nodes paid)\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"poolCommitments\":\"Array of pool commitments (2^ceil(depth/2))\"},\"returns\":{\"totalAmount\":\"Estimated total tokens that would be paid\"}},\"getPaymentInfo(bytes32)\":{\"params\":{\"winnerPoolHash\":\"Hash returned from payForMerkleTree\"},\"returns\":{\"info\":\"Payment information stored on-chain\"}},\"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)\":{\"params\":{\"depth\":\"Tree depth (determines number of nodes paid)\",\"merklePaymentTimestamp\":\"Client-provided timestamp\",\"poolCommitments\":\"Array of pool commitments (2^ceil(depth/2))\"},\"returns\":{\"totalAmount\":\"Total tokens paid to winners\",\"winnerPoolHash\":\"Hash of selected winner pool\"}}},\"version\":1},\"userdoc\":{\"events\":{\"MerklePaymentMade(bytes32,uint8,uint256,uint64)\":{\"notice\":\"Emitted when a Merkle batch payment is made\"}},\"kind\":\"user\",\"methods\":{\"CANDIDATES_PER_POOL()\":{\"notice\":\"Number of candidates per pool (fixed)\"},\"MAX_MERKLE_DEPTH()\":{\"notice\":\"Maximum supported Merkle tree depth\"},\"antToken()\":{\"notice\":\"ANT token contract\"},\"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)\":{\"notice\":\"Estimate the cost of a Merkle tree payment without executing it This is a view function (0 gas) that runs the same pricing logic as payForMerkleTree but returns only the estimated cost without executing payment.\"},\"getPaymentInfo(bytes32)\":{\"notice\":\"Get payment info by winner pool hash\"},\"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)\":{\"notice\":\"Pay for Merkle tree batch\"},\"payments(bytes32)\":{\"notice\":\"Payment info indexed by winner pool hash\"}},\"notice\":\"Merkle Batch Payment Vault Handles batch payments for Merkle tree storage where multiple data chunks are paid for in a single transaction. Uses a fair median pricing mechanism based on candidate node metrics.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/MerklePaymentVault.sol\":\"MerklePaymentVault\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"],\"viaIR\":true},\"sources\":{\"contracts/MerklePaymentVault.sol\":{\"keccak256\":\"0xcdb7bcd92a08b6a540456b9d459a2fd1245a364c5d1712db1bf1a16744a97fbe\",\"license\":\"GPL-3.0\",\"urls\":[\"bzz-raw://fb827788f2a41673a19854e8dc64541ec4cdeb14d6837041b0444d53f7cfd522\",\"dweb:/ipfs/QmYQzwwzP9wj5QtkptoTi674SQcrAzQVmKjjU5KERdjT9g\"]},\"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303\",\"dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"_antToken","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"uint8","name":"max","type":"uint8"}],"type":"error","name":"DepthTooLarge"},{"inputs":[{"internalType":"uint256","name":"have","type":"uint256"},{"internalType":"uint256","name":"need","type":"uint256"}],"type":"error","name":"InsufficientAllowance"},{"inputs":[{"internalType":"uint256","name":"have","type":"uint256"},{"internalType":"uint256","name":"need","type":"uint256"}],"type":"error","name":"InsufficientBalance"},{"inputs":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"}],"type":"error","name":"PaymentAlreadyExists"},{"inputs":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"}],"type":"error","name":"PaymentNotFound"},{"inputs":[],"type":"error","name":"TransferFailed"},{"inputs":[{"internalType":"uint256","name":"poolIdx","type":"uint256"},{"internalType":"uint256","name":"expected","type":"uint256"},{"internalType":"uint256","name":"got","type":"uint256"}],"type":"error","name":"WrongCandidateCount"},{"inputs":[{"internalType":"uint256","name":"expected","type":"uint256"},{"internalType":"uint256","name":"got","type":"uint256"}],"type":"error","name":"WrongPoolCount"},{"inputs":[{"internalType":"bytes32","name":"winnerPoolHash","type":"bytes32","indexed":true},{"internalType":"uint8","name":"depth","type":"uint8","indexed":false},{"internalType":"uint256","name":"totalAmount","type":"uint256","indexed":false},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64","indexed":false}],"type":"event","name":"MerklePaymentMade","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"CANDIDATES_PER_POOL","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"MAX_MERKLE_DEPTH","outputs":[{"internalType":"uint8","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"antToken","outputs":[{"internalType":"contract IERC20","name":"","type":"address"}]},{"inputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"struct MerklePaymentVault.PoolCommitment[]","name":"poolCommitments","type":"tuple[]","components":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"},{"internalType":"struct MerklePaymentVault.CandidateNode[16]","name":"candidates","type":"tuple[16]","components":[{"internalType":"address","name":"rewardsAddress","type":"address"},{"internalType":"struct MerklePaymentVault.QuotingMetrics","name":"metrics","type":"tuple","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"dataSize","type":"uint256"},{"internalType":"uint256","name":"closeRecordsStored","type":"uint256"},{"internalType":"struct MerklePaymentVault.Record[]","name":"recordsPerType","type":"tuple[]","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"records","type":"uint256"}]},{"internalType":"uint256","name":"maxRecords","type":"uint256"},{"internalType":"uint256","name":"receivedPaymentCount","type":"uint256"},{"internalType":"uint256","name":"liveTime","type":"uint256"},{"internalType":"uint256","name":"networkDensity","type":"uint256"},{"internalType":"uint256","name":"networkSize","type":"uint256"}]}]}]},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"}],"stateMutability":"view","type":"function","name":"estimateMerkleTreeCost","outputs":[{"internalType":"uint256","name":"totalAmount","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"winnerPoolHash","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getPaymentInfo","outputs":[{"internalType":"struct MerklePaymentVault.PaymentInfo","name":"info","type":"tuple","components":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"},{"internalType":"struct MerklePaymentVault.PaidNode[]","name":"paidNodeAddresses","type":"tuple[]","components":[{"internalType":"address","name":"rewardsAddress","type":"address"},{"internalType":"uint8","name":"poolIndex","type":"uint8"}]}]}]},{"inputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"struct MerklePaymentVault.PoolCommitment[]","name":"poolCommitments","type":"tuple[]","components":[{"internalType":"bytes32","name":"poolHash","type":"bytes32"},{"internalType":"struct MerklePaymentVault.CandidateNode[16]","name":"candidates","type":"tuple[16]","components":[{"internalType":"address","name":"rewardsAddress","type":"address"},{"internalType":"struct MerklePaymentVault.QuotingMetrics","name":"metrics","type":"tuple","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"dataSize","type":"uint256"},{"internalType":"uint256","name":"closeRecordsStored","type":"uint256"},{"internalType":"struct MerklePaymentVault.Record[]","name":"recordsPerType","type":"tuple[]","components":[{"internalType":"uint8","name":"dataType","type":"uint8"},{"internalType":"uint256","name":"records","type":"uint256"}]},{"internalType":"uint256","name":"maxRecords","type":"uint256"},{"internalType":"uint256","name":"receivedPaymentCount","type":"uint256"},{"internalType":"uint256","name":"liveTime","type":"uint256"},{"internalType":"uint256","name":"networkDensity","type":"uint256"},{"internalType":"uint256","name":"networkSize","type":"uint256"}]}]}]},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"}],"stateMutability":"nonpayable","type":"function","name":"payForMerkleTree","outputs":[{"internalType":"bytes32","name":"winnerPoolHash","type":"bytes32"},{"internalType":"uint256","name":"totalAmount","type":"uint256"}]},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function","name":"payments","outputs":[{"internalType":"uint8","name":"depth","type":"uint8"},{"internalType":"uint64","name":"merklePaymentTimestamp","type":"uint64"}]}],"devdoc":{"kind":"dev","methods":{"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)":{"params":{"depth":"Tree depth (determines number of nodes paid)","merklePaymentTimestamp":"Client-provided timestamp","poolCommitments":"Array of pool commitments (2^ceil(depth/2))"},"returns":{"totalAmount":"Estimated total tokens that would be paid"}},"getPaymentInfo(bytes32)":{"params":{"winnerPoolHash":"Hash returned from payForMerkleTree"},"returns":{"info":"Payment information stored on-chain"}},"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)":{"params":{"depth":"Tree depth (determines number of nodes paid)","merklePaymentTimestamp":"Client-provided timestamp","poolCommitments":"Array of pool commitments (2^ceil(depth/2))"},"returns":{"totalAmount":"Total tokens paid to winners","winnerPoolHash":"Hash of selected winner pool"}}},"version":1},"userdoc":{"kind":"user","methods":{"CANDIDATES_PER_POOL()":{"notice":"Number of candidates per pool (fixed)"},"MAX_MERKLE_DEPTH()":{"notice":"Maximum supported Merkle tree depth"},"antToken()":{"notice":"ANT token contract"},"estimateMerkleTreeCost(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)":{"notice":"Estimate the cost of a Merkle tree payment without executing it This is a view function (0 gas) that runs the same pricing logic as payForMerkleTree but returns only the estimated cost without executing payment."},"getPaymentInfo(bytes32)":{"notice":"Get payment info by winner pool hash"},"payForMerkleTree(uint8,(bytes32,(address,(uint8,uint256,uint256,(uint8,uint256)[],uint256,uint256,uint256,uint256,uint256))[16])[],uint64)":{"notice":"Pay for Merkle tree batch"},"payments(bytes32)":{"notice":"Payment info indexed by winner pool hash"}},"version":1}},"settings":{"remappings":["@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/MerklePaymentVault.sol":"MerklePaymentVault"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"contracts/MerklePaymentVault.sol":{"keccak256":"0xcdb7bcd92a08b6a540456b9d459a2fd1245a364c5d1712db1bf1a16744a97fbe","urls":["bzz-raw://fb827788f2a41673a19854e8dc64541ec4cdeb14d6837041b0444d53f7cfd522","dweb:/ipfs/QmYQzwwzP9wj5QtkptoTi674SQcrAzQVmKjjU5KERdjT9g"],"license":"GPL-3.0"},"lib/openzeppelin-contracts/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x74ed01eb66b923d0d0cfe3be84604ac04b76482a55f9dd655e1ef4d367f95bc2","urls":["bzz-raw://5282825a626cfe924e504274b864a652b0023591fa66f06a067b25b51ba9b303","dweb:/ipfs/QmeCfPykghhMc81VJTrHTC7sF6CRvaA1FXVq2pJhwYp1dV"],"license":"MIT"}},"version":1},"id":0}